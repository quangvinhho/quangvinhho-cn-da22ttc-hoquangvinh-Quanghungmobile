<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Liên hệ - QuangHưng Mobile</title>
    
    <!-- Google Fonts - Roboto & Montserrat -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;600;700;900&family=Montserrat:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="components/header.css">
    <link rel="stylesheet" href="responsive.css">
  </head>
  <body class="bg-gray-50">
    <!-- ===== PAGE LOADER - Hiệu ứng loading trang ===== -->
  <div id="page-loader">
    <div class="loader-logo">
      <img src="images/logo.png" alt="QuangHưng Mobile" onerror="this.style.display='none'">
    </div>
    <div class="loader-spinner"></div>
    <div class="loader-dots">
      <span></span>
      <span></span>
      <span></span>
    </div>
    <div class="loader-text">
      <span>Đ</span><span>a</span><span>n</span><span>g</span><span>&nbsp;</span><span>t</span><span>ả</span><span>i</span><span>.</span><span>.</span><span>.</span>
    </div>
    <div class="loader-progress">
      <div class="loader-progress-bar"></div>
    </div>
  </div>

    
    <!-- Header Component -->
    <div id="header-placeholder"></div>
    
    <!-- Spacer for fixed header - Responsive -->
    <div class="h-[80px] md:h-[100px] lg:h-[140px]"></div>

    <!-- Main Content -->
    <div class="container mx-auto px-4 py-8 max-w-7xl">
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <!-- Contact Info -->
        <div class="lg:col-span-1">
          <div class="bg-white rounded-lg shadow-md p-6 space-y-6">
            <!-- Store Info -->
            <div>
              <h2 class="text-xl font-bold mb-4">Thông tin liên hệ</h2>
              <ul class="space-y-4">
                <li class="flex items-start space-x-3">
                  <div class="mt-1">
                    <i class="fas fa-map-marker-alt text-red-600"></i>
                  </div>
                  <div>
                    <h3 class="font-semibold">Địa chỉ</h3>
                    <p class="text-gray-600">Nam Kỳ Khởi Nghĩa, Phường 2</p>
                    <p class="text-gray-600">TP. Trà Vinh, Trà Vinh</p>
                  </div>
                </li>
                <li class="flex items-start space-x-3">
                  <div class="mt-1">
                    <i class="fas fa-phone text-red-600"></i>
                  </div>
                  <div>
                    <h3 class="font-semibold">Điện thoại</h3>
                    <p class="text-gray-600">Hotline: 1900 1234</p>
                    <p class="text-gray-600">Di động: 0123 456 789</p>
                  </div>
                </li>

                <li class="flex items-start space-x-3">
                  <div class="mt-1">
                    <i class="fas fa-envelope text-red-600"></i>
                  </div>
                  <div>
                    <h3 class="font-semibold">Email</h3>
                    <p class="text-gray-600">info@quanghungshop.com</p>
                    <p class="text-gray-600">support@quanghungshop.com</p>
                  </div>
                </li>
                <li class="flex items-start space-x-3">
                  <div class="mt-1">
                    <i class="fas fa-clock text-red-600"></i>
                  </div>
                  <div>
                    <h3 class="font-semibold">Giờ làm việc</h3>
                    <p class="text-gray-600">Thứ 2 - Thứ 7: 8:00 - 21:00</p>
                    <p class="text-gray-600">Chủ nhật: 9:00 - 20:00</p>
                  </div>
                </li>
              </ul>
            </div>

            <!-- Social Media -->
            <div>
              <h2 class="text-xl font-bold mb-4">Kết nối với chúng tôi</h2>
              <div class="flex space-x-4">
                <a href="#" class="bg-red-600 text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-red-700 transition">
                  <i class="fab fa-facebook-f"></i>
                </a>
                <a href="#" class="bg-pink-600 text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-pink-700 transition">
                  <i class="fab fa-instagram"></i>
                </a>
                <a href="#" class="bg-blue-400 text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-blue-500 transition">
                  <i class="fab fa-twitter"></i>
                </a>
                <a href="#" class="bg-red-600 text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-red-700 transition">
                  <i class="fab fa-youtube"></i>
                </a>
              </div>
            </div>
          </div>
        </div>

        <!-- Contact Form -->
        <div class="lg:col-span-2">
          <div class="bg-white rounded-lg shadow-md p-6">
            <h2 class="text-xl font-bold mb-6">Gửi tin nhắn cho chúng tôi</h2>
            <form class="space-y-6" id="contactForm">
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <label class="block text-gray-700 font-semibold mb-2">Họ và tên</label>
                  <input type="text" class="w-full px-4 py-3 border rounded-lg outline-none focus:border-red-600 transition" placeholder="Nhập họ và tên" name="name" required />
                </div>
                <div>
                  <label class="block text-gray-700 font-semibold mb-2">Email</label>
                  <input type="email" class="w-full px-4 py-3 border rounded-lg outline-none focus:border-red-600 transition" placeholder="Nhập địa chỉ email" name="email" required />
                </div>
              </div>

              <div>
                <label class="block text-gray-700 font-semibold mb-2">Số điện thoại</label>
                <input type="tel" class="w-full px-4 py-3 border rounded-lg outline-none focus:border-red-600 transition" placeholder="Nhập số điện thoại" name="phone" required />
              </div>

              <div>
                <label class="block text-gray-700 font-semibold mb-2">Chủ đề</label>
                <select class="w-full px-4 py-3 border rounded-lg outline-none focus:border-red-600 transition" name="subject" required>
                  <option value="">Chọn chủ đề</option>
                  <option value="support">Hỗ trợ kỹ thuật</option>
                  <option value="sales">Tư vấn mua hàng</option>
                  <option value="warranty">Bảo hành sản phẩm</option>
                  <option value="complaint">Khiếu nại</option>
                  <option value="other">Khác</option>
                </select>
              </div>

              <div>
                <label class="block text-gray-700 font-semibold mb-2">Nội dung</label>
                <textarea rows="5" class="w-full px-4 py-3 border rounded-lg outline-none focus:border-red-600 transition" placeholder="Nhập nội dung tin nhắn" name="message" required></textarea>
              </div>

              <button type="submit" class="bg-red-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-700 transition">
                Gửi tin nhắn
              </button>
            </form>
          </div>
        </div>
      </div>


      <!-- Google Map -->
      <div class="mt-8">
        <div class="bg-white rounded-lg shadow-md p-6">
          <h2 class="text-xl font-bold mb-6">Bản đồ cửa hàng</h2>
          <div class="w-full" style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
            <iframe 
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3928.8415!2d106.3421!3d9.9347!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31a0175b5d5b5b5b%3A0x5b5b5b5b5b5b5b5b!2zTmFtIEvhu7MgS2jhu59pIE5naMSpYSwgUGjGsOG7nW5nIDIsIFRQIFRyw6AgVmluaCwgVHLDoCBWaW5o!5e0!3m2!1svi!2svn!4v1703062800000!5m2!1svi!2svn" 
              style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0; border-radius: 8px;"
              allowfullscreen="" 
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade">
            </iframe>
          </div>
          <div class="mt-4 flex items-center gap-2 text-gray-600">
            <i class="fas fa-map-marker-alt text-red-600"></i>
            <span>Nam Kỳ Khởi Nghĩa, Phường 2, TP. Trà Vinh, Trà Vinh</span>
          </div>
          <a href="https://www.google.com/maps/search/Nam+K%E1%BB%B3+Kh%E1%BB%9Fi+Ngh%C4%A9a,+Ph%C6%B0%E1%BB%9Dng+2,+Tr%C3%A0+Vinh" 
             target="_blank" 
             class="inline-flex items-center gap-2 mt-3 text-red-600 hover:text-red-700 font-medium transition">
            <i class="fas fa-directions"></i>
            Xem chỉ đường trên Google Maps
          </a>
        </div>
      </div>

      <!-- FAQ Section -->
      <div class="mt-8">
        <div class="bg-white rounded-lg shadow-md p-6">
          <h2 class="text-xl font-bold mb-6">Câu hỏi thường gặp</h2>
          <div class="space-y-4" id="faqContainer">
            <div class="border rounded-lg faq-item">
              <button class="faq-question w-full px-6 py-4 text-left font-semibold flex items-center justify-between">
                <span>Thời gian giao hàng mất bao lâu?</span>
                <i class="fas fa-chevron-down transition-transform"></i>
              </button>
              <div class="faq-answer px-6 pb-4 hidden">
                <p class="text-gray-600">
                  Thời gian giao hàng thông thường từ 1-3 ngày tùy khu vực. Riêng khu vực nội thành TP.HCM, 
                  chúng tôi có thể giao hàng trong ngày nếu đặt hàng trước 14h.
                </p>
              </div>
            </div>

            <div class="border rounded-lg faq-item">
              <button class="faq-question w-full px-6 py-4 text-left font-semibold flex items-center justify-between">
                <span>Chính sách đổi trả như thế nào?</span>
                <i class="fas fa-chevron-down transition-transform"></i>
              </button>
              <div class="faq-answer px-6 pb-4 hidden">
                <p class="text-gray-600">
                  Quý khách có thể đổi trả sản phẩm trong vòng 30 ngày kể từ ngày mua hàng nếu sản phẩm 
                  còn nguyên vẹn và đầy đủ phụ kiện kèm theo.
                </p>
              </div>
            </div>

            <div class="border rounded-lg faq-item">
              <button class="faq-question w-full px-6 py-4 text-left font-semibold flex items-center justify-between">
                <span>Làm sao để kiểm tra tình trạng bảo hành?</span>
                <i class="fas fa-chevron-down transition-transform"></i>
              </button>
              <div class="faq-answer px-6 pb-4 hidden">
                <p class="text-gray-600">
                  Quý khách có thể kiểm tra tình trạng bảo hành bằng cách:<br>
                  1. Nhập số IMEI trên website<br>
                  2. Liên hệ tổng đài 1900 1234<br>
                  3. Đến trực tiếp cửa hàng
                </p>
              </div>
            </div>

            <div class="border rounded-lg faq-item">
              <button class="faq-question w-full px-6 py-4 text-left font-semibold flex items-center justify-between">
                <span>Các hình thức thanh toán được chấp nhận?</span>
                <i class="fas fa-chevron-down transition-transform"></i>
              </button>
              <div class="faq-answer px-6 pb-4 hidden">
                <p class="text-gray-600">
                  Chúng tôi chấp nhận các hình thức thanh toán:<br>
                  - Tiền mặt<br>
                  - Chuyển khoản ngân hàng<br>
                  - Thẻ tín dụng/ghi nợ<br>
                  - Ví điện tử (Momo, ZaloPay, VNPay)
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer Component -->
    <div id="footer-placeholder"></div>

    <script>
      // Load header component
      fetch('components/header.html')
        .then(response => response.text())
        .then(html => {
          document.getElementById('header-placeholder').innerHTML = html;
          const script = document.createElement('script');
          script.src = 'components/header.js';
          document.body.appendChild(script);
        })
        .catch(error => console.error('Error loading header:', error));

      // Load footer component
      fetch('components/footer.html')
        .then(response => response.text())
        .then(html => {
          document.getElementById('footer-placeholder').innerHTML = html;
        })
        .catch(error => console.error('Error loading footer:', error));

      // FAQ Accordion
      document.addEventListener('DOMContentLoaded', function() {
        document.querySelectorAll('.faq-question').forEach(button => {
          button.addEventListener('click', () => {
            const faqItem = button.closest('.faq-item');
            const answer = faqItem.querySelector('.faq-answer');
            const icon = button.querySelector('i');
            
            // Toggle current
            answer.classList.toggle('hidden');
            icon.classList.toggle('rotate-180');
          });
        });
      });

      // Form Handling - Gửi liên hệ lên server
      document.getElementById('contactForm').addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const submitBtn = this.querySelector('button[type="submit"]');
        const originalText = submitBtn.innerHTML;
        submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Đang gửi...';
        submitBtn.disabled = true;
        
        const formData = new FormData(this);
        const data = {
          ho_ten: formData.get('name'),
          email: formData.get('email'),
          so_dien_thoai: formData.get('phone'),
          tieu_de: formData.get('subject'),
          noi_dung: formData.get('message')
        };
        
        try {
          const response = await fetch('http://localhost:3000/api/admin/contacts', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(data)
          });
          
          const result = await response.json();
          
          if (result.success) {
            // Hiển thị thông báo thành công
            showNotification('success', 'Gửi liên hệ thành công! Chúng tôi sẽ phản hồi sớm nhất có thể.');
            this.reset();
          } else {
            showNotification('error', result.message || 'Có lỗi xảy ra, vui lòng thử lại!');
          }
        } catch (error) {
          console.error('Error:', error);
          showNotification('error', 'Không thể kết nối đến server. Vui lòng thử lại sau!');
        } finally {
          submitBtn.innerHTML = originalText;
          submitBtn.disabled = false;
        }
      });
      
      // Hàm hiển thị thông báo
      function showNotification(type, message) {
        // Xóa thông báo cũ nếu có
        const oldNotif = document.querySelector('.contact-notification');
        if (oldNotif) oldNotif.remove();
        
        const notification = document.createElement('div');
        notification.className = `contact-notification fixed top-4 right-4 z-50 px-6 py-4 rounded-lg shadow-lg transform transition-all duration-300 ${
          type === 'success' ? 'bg-green-500 text-white' : 'bg-red-500 text-white'
        }`;
        notification.innerHTML = `
          <div class="flex items-center gap-3">
            <i class="fas ${type === 'success' ? 'fa-check-circle' : 'fa-exclamation-circle'} text-xl"></i>
            <span>${message}</span>
          </div>
        `;
        document.body.appendChild(notification);
        
        // Tự động ẩn sau 5 giây
        setTimeout(() => {
          notification.style.opacity = '0';
          setTimeout(() => notification.remove(), 300);
        }, 5000);
      }
    </script>

    <!-- AI Chatbot -->
    <link rel="stylesheet" href="components/ai-chatbot.css">
    <script src="components/ai-chatbot.js"></script>
    <script src="components/floating-share.js"></script>
    <!-- Main JS - Page Loader -->
  <script src="main.js"></script>
</body>
</html>

