<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
  <title>QuangHưng Mobile - Điện thoại chính hãng giá tốt</title>
  <meta name="description" content="Mua điện thoại chính hãng, giá tốt nhất thị trường. iPhone, Samsung, Sony Xperia.">

  <!-- SEO Meta Tags -->
  <meta name="keywords" content="điện thoại, iPhone, Samsung, Sony Xperia, điện thoại chính hãng, giá tốt, khuyến mãi">
  <meta name="author" content="QuangHưng Mobile">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://quanghungmobile.vn/">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://quanghungmobile.vn/">
  <meta property="og:title" content="QuangHưng Mobile - Điện thoại chính hãng giá tốt">
  <meta property="og:description"
    content="Mua điện thoại chính hãng, giá tốt nhất thị trường. iPhone, Samsung, Sony Xperia. Bảo hành chính hãng, giao hàng miễn phí.">
  <meta property="og:image" content="https://quanghungmobile.vn/images/og-image.jpg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:locale" content="vi_VN">
  <meta property="og:site_name" content="QuangHưng Mobile">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://quanghungmobile.vn/">
  <meta name="twitter:title" content="QuangHưng Mobile - Điện thoại chính hãng giá tốt">
  <meta name="twitter:description"
    content="Mua điện thoại chính hãng, giá tốt nhất thị trường. iPhone, Samsung, Sony Xperia.">
  <meta name="twitter:image" content="https://quanghungmobile.vn/images/og-image.jpg">

  <!-- Structured Data / Schema.org -->
  <script type="application/ld+json">

</script>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'red-main': '#d91e23',
            'red-dark': '#b01117',
            'red-light': '#ffe5e6',
          },
          fontFamily: {
            'roboto': ['Roboto', 'sans-serif'],
            'montserrat': ['Montserrat', 'sans-serif'],
          },
          animation: {
            'slide-in': 'slideIn 0.5s ease-in-out',
          },
          keyframes: {
            slideIn: {
              '0%': { opacity: '0', transform: 'scale(0.95)' },
              '100%': { opacity: '1', transform: 'scale(1)' },
            }
          }
        }
      }
    }
  </script>

  <!-- Google Fonts - Roboto & Montserrat -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;600;700;900&family=Montserrat:wght@400;500;600;700;800;900&display=swap"
    rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- Minimal Custom CSS (only for scrollbar & animations) -->
  <link rel="stylesheet" href="components/header.css">
  <link rel="stylesheet" href="index-styles.css">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="responsive.css">
</head>

<body class="bg-gray-100 font-roboto text-gray-900 leading-relaxed scroll-smooth overflow-x-hidden">
  <!-- ===== PAGE LOADER - Hiệu ứng loading trang ===== -->
  <div id="page-loader">
    <div class="loader-logo">
      <img src="images/logo.png" alt="QuangHưng Mobile" onerror="this.style.display='none'">
    </div>
    <div class="loader-spinner"></div>
    <div class="loader-dots">
      <span></span>
      <span></span>
      <span></span>
    </div>
    <div class="loader-text">
      <span>Đ</span><span>a</span><span>n</span><span>g</span><span>&nbsp;</span><span>t</span><span>ả</span><span>i</span><span>.</span><span>.</span><span>.</span>
    </div>
    <div class="loader-progress">
      <div class="loader-progress-bar"></div>
    </div>
  </div>

  <!-- Header Component -->
  <div id="header-placeholder"></div>

  <!-- Spacer for fixed header - Responsive -->
  <div class="h-[80px] md:h-[100px] lg:h-[140px]"></div>

  <!-- ===== BANNER QUẢNG CÁO - FULL WIDTH ===== -->
  <section class="py-2 md:py-3 bg-gray-100">
    <div class="max-w-[1920px] mx-auto px-2 sm:px-3 md:px-4">
      
      <!-- Khung chứa tất cả banner -->
      <div class="bg-white rounded-xl md:rounded-2xl shadow-xl overflow-hidden">
        <!-- Trên: Banner Slider Chính -->
        <div class="relative group">
          <!-- Track chứa tất cả các slide -->
          <div id="banner-track" class="flex transition-transform duration-700 ease-out">
            <!-- Slide 1 - OPPO -->
            <a href="products.html" class="min-w-full block cursor-pointer">
              <img src="images/desk_header_d7212039d2.webp" class="w-full h-auto" alt="OPPO Banner">
            </a>
            <!-- Slide 2 - Samsung -->
            <a href="products.html" class="min-w-full block cursor-pointer">
              <img src="images/desk_header_21220f992b.webp" class="w-full h-auto" alt="Samsung Banner">
            </a>
            <!-- Slide 3 - Khuyến mãi -->
            <a href="promotions.html" class="min-w-full block cursor-pointer">
              <img src="images/desk_theme_content_f5f704c2f2.webp" class="w-full h-auto" alt="Khuyến mãi">
            </a>
          </div>

          <!-- Nút điều khiển -->
          <button onclick="prevBanner()" class="absolute left-2 md:left-3 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-gray-800 w-8 h-8 md:w-10 md:h-10 rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-all flex items-center justify-center z-10">
            <i class="fas fa-chevron-left text-sm"></i>
          </button>
          <button onclick="nextBanner()" class="absolute right-2 md:right-3 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-gray-800 w-8 h-8 md:w-10 md:h-10 rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-all flex items-center justify-center z-10">
            <i class="fas fa-chevron-right text-sm"></i>
          </button>

          <!-- Indicator Dots -->
          <div class="absolute bottom-2 md:bottom-3 left-1/2 -translate-x-1/2 flex gap-1.5 z-10">
            <div class="banner-indicator w-2 h-2 rounded-full bg-white/60 cursor-pointer transition-all hover:bg-white" onclick="goToBanner(0)"></div>
            <div class="banner-indicator w-2 h-2 rounded-full bg-white/60 cursor-pointer transition-all hover:bg-white" onclick="goToBanner(1)"></div>
            <div class="banner-indicator w-2 h-2 rounded-full bg-white/60 cursor-pointer transition-all hover:bg-white" onclick="goToBanner(2)"></div>
          </div>
        </div>

        <!-- Dưới: 2 Banner nhỏ nằm cạnh nhau -->
        <div class="grid grid-cols-2 gap-2 bg-gray-50 p-2">
          <a href="products.html" class="block group overflow-hidden rounded-lg">
            <img src="images/H1_1440x242_1_95840a416f.webp" class="w-full h-auto group-hover:scale-[1.02] transition-transform duration-300" alt="Khuyến mãi iPhone">
          </a>
          <a href="products.html" class="block group overflow-hidden rounded-lg">
            <img src="images/H1_1440x242_ff204ca315.webp" class="w-full h-auto group-hover:scale-[1.02] transition-transform duration-300" alt="Khuyến mãi Samsung">
          </a>
        </div>
      </div>



    </div>
  </section>

  <script>
    // Logic Banner Slider mới (Carousel style)
    const bannerTrack = document.getElementById('banner-track');
    const indicators = document.querySelectorAll('.banner-indicator');
    const totalSlides = 3; // Số lượng slide (3 banner chính)
    let currentBannerIndex = 0;
    let autoPlayInterval = null;
    const AUTO_PLAY_DELAY = 4000; // Tốc độ tự động chuyển (4 giây)

    // Hàm cập nhật vị trí slider
    function updateSlider() {
      if (!bannerTrack) return;

      // Trượt track dựa trên index (mỗi slide chiếm 100% chiều rộng)
      bannerTrack.style.transform = `translateX(-${currentBannerIndex * 100}%)`;

      // Cập nhật dots
      indicators.forEach((dot, index) => {
        if (index === currentBannerIndex) {
          dot.style.backgroundColor = '#e41e26'; // Màu đỏ active
          dot.style.width = '24px';
          dot.style.opacity = '1';
        } else {
          dot.style.backgroundColor = 'rgba(255,255,255,0.7)';
          dot.style.width = '8px';
          dot.style.opacity = '0.7';
        }
      });
    }

    // Chuyển đến banner tiếp theo
    function nextBanner(resetAutoPlay = true) {
      currentBannerIndex = (currentBannerIndex + 1) % totalSlides;
      updateSlider();
      if (resetAutoPlay) startAutoPlay();
    }

    // Chuyển về banner trước
    function prevBanner(resetAutoPlay = true) {
      currentBannerIndex = (currentBannerIndex - 1 + totalSlides) % totalSlides;
      updateSlider();
      if (resetAutoPlay) startAutoPlay();
    }

    // Chuyển đến banner cụ thể (khi click dot hoặc banner nhỏ)
    function goToBanner(index) {
      currentBannerIndex = index;
      updateSlider();
      startAutoPlay();
    }

    // Quản lý Autoplay
    function startAutoPlay() {
      if (autoPlayInterval) clearInterval(autoPlayInterval);
      autoPlayInterval = setInterval(() => {
        nextBanner(false);
      }, AUTO_PLAY_DELAY);
    }

    function stopAutoPlay() {
      if (autoPlayInterval) clearInterval(autoPlayInterval);
    }

    // Khởi tạo
    document.addEventListener('DOMContentLoaded', function () {
      updateSlider();
      startAutoPlay();

      // Dừng autoplay khi hover chuột vào banner
      const bannerContainer = document.querySelector('.group'); // Class group ở container cha
      if (bannerContainer) {
        bannerContainer.addEventListener('mouseenter', stopAutoPlay);
        bannerContainer.addEventListener('mouseleave', startAutoPlay);
      }
    });

    // Dừng autoplay khi tab không hoạt động để tiết kiệm tài nguyên
    document.addEventListener('visibilitychange', function () {
      if (document.hidden) {
        stopAutoPlay();
      } else {
        startAutoPlay();
      }
    });
  </script>

  <script>
    // Scroll products horizontally
    function scrollProducts(containerId, direction) {
      const container = document.getElementById(containerId);
      if (!container) return;

      const scrollAmount = 300;
      container.scrollBy({
        left: direction * scrollAmount,
        behavior: 'smooth'
      });
    }
  </script>

  <!-- GIÁ SỐC MỖI NGÀY -->
  <section class="py-3 sm:py-4 bg-gray-100 reveal-on-scroll">
    <div class="max-w-[1920px] mx-auto px-2 sm:px-3 md:px-4">
      <div class="bg-gradient-to-r from-red-600 to-red-500 rounded-xl md:rounded-2xl shadow-lg p-3 sm:p-4 md:p-5 relative overflow-hidden">
        
        <div class="relative z-10">
          <!-- Header đơn giản -->
          <div class="flex items-center justify-between mb-4">
            <h2 class="text-xl sm:text-2xl md:text-3xl font-extrabold text-white tracking-wide">⚡ GIÁ SỐC MỖI NGÀY</h2>
            <!-- Countdown Timer -->
            <div class="flex items-center gap-1.5 bg-white/20 px-2.5 py-1 rounded-full">
              <span class="text-white/90 text-xs hidden sm:inline">Kết thúc:</span>
              <div class="flex gap-0.5 items-center" id="countdown-timer">
                <span class="bg-white text-red-600 font-semibold px-1.5 py-0.5 rounded text-xs" id="hours">08</span>
                <span class="text-white text-xs">:</span>
                <span class="bg-white text-red-600 font-semibold px-1.5 py-0.5 rounded text-xs" id="minutes">45</span>
                <span class="text-white text-xs">:</span>
                <span class="bg-white text-red-600 font-semibold px-1.5 py-0.5 rounded text-xs" id="seconds">30</span>
              </div>
            </div>
          </div>
        </div>
        <div>
          <!-- Replace scroller with a responsive grid using same card styles so layout matches the other product areas -->
          <div class="product-grid-responsive">
            <!-- Deal 1 -->
            <div class="product-card-hover rounded-xl p-4 bg-white relative group">
              <a href="product-detail.html?id=11" class="block">
                <div class="relative h-60 mb-2 overflow-hidden p-0 flex items-center justify-center">
                  <span class="absolute top-0 left-0 bg-red-600 text-white text-[10px] font-bold px-2 py-1 rounded-br-lg z-10">Giảm sốc</span>
                  <span class="absolute top-0 right-0 bg-red-600 text-white text-[10px] font-bold px-2 py-1 rounded-bl-lg z-10">-30%</span>
                  <img src="images/A17.avif" alt="Samsung Galaxy A17" class="card-image rounded-md w-full h-full object-contain transition-transform group-hover:scale-105">
                </div>
                <div class="mt-auto flex flex-col gap-2">
                  <h3 class="font-bold text-sm text-gray-800 line-clamp-2 min-h-[40px]">Samsung Galaxy A17 5G (8GB | 128GB)</h3>
                  <div class="price-block flex items-end gap-3">
                    <div class="text-lg font-black text-red-600 leading-none">4.599.000₫</div>
                    <div class="text-xs text-gray-400 line-through mb-1">6.590.000₫</div>
                  </div>
                  <div class="flex items-center justify-between">
                    <div class="flex items-center gap-1 text-yellow-400 text-xs"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="far fa-star"></i></div>
                    <div class="text-xs text-gray-500">(36)</div>
                  </div>
                </div>
              </a>
              <div class="flex gap-2 mt-3">
                <a href="product-detail.html?id=11" class="flex-1 bg-red-600 hover:bg-red-700 text-white text-center text-sm font-semibold py-2 px-3 rounded-lg transition-all flex items-center justify-center gap-1">
                  <i class="fas fa-bolt"></i> Mua ngay
                </a>
                <button onclick="addToCartQuick(11, 'Samsung Galaxy A17 5G', 4599000, 'images/A17.avif')" class="bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm font-semibold py-2 px-3 rounded-lg transition-all" title="Thêm vào giỏ">
                  <i class="fas fa-cart-plus"></i>
                </button>
              </div>
            </div>

            <!-- Deal 2 -->
            <div class="product-card-hover rounded-xl p-4 bg-white relative group">
              <a href="product-detail.html?id=12" class="block">
                <div class="relative h-60 mb-2 overflow-hidden p-0 flex items-center justify-center">
                  <span class="absolute top-0 left-0 bg-red-600 text-white text-[10px] font-bold px-2 py-1 rounded-br-lg z-10">Flash Sale</span>
                  <span class="absolute top-0 right-0 bg-red-600 text-white text-[10px] font-bold px-2 py-1 rounded-bl-lg z-10">-25%</span>
                  <img src="images/A56.avif" alt="Samsung Galaxy A56" class="card-image rounded-md w-full h-full object-contain transition-transform group-hover:scale-105">
                </div>
                <div class="mt-auto flex flex-col gap-2">
                  <h3 class="font-bold text-sm text-gray-800 line-clamp-2 min-h-[40px]">Samsung Galaxy A56 5G (128GB | 256GB)</h3>
                  <div class="price-block flex items-end gap-3">
                    <div class="text-lg font-black text-red-600 leading-none">10.799.000₫</div>
                    <div class="text-xs text-gray-400 line-through mb-1">14.990.000₫</div>
                  </div>
                  <div class="flex items-center justify-between">
                    <div class="flex items-center gap-1 text-yellow-400 text-xs"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star-half-alt"></i></div>
                    <div class="text-xs text-gray-500">(8)</div>
                  </div>
                </div>
              </a>
              <div class="flex gap-2 mt-3">
                <a href="product-detail.html?id=12" class="flex-1 bg-red-600 hover:bg-red-700 text-white text-center text-sm font-semibold py-2 px-3 rounded-lg transition-all flex items-center justify-center gap-1">
                  <i class="fas fa-bolt"></i> Mua ngay
                </a>
                <button onclick="addToCartQuick(12, 'Samsung Galaxy A56 5G', 10799000, 'images/A56.avif')" class="bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm font-semibold py-2 px-3 rounded-lg transition-all" title="Thêm vào giỏ">
                  <i class="fas fa-cart-plus"></i>
                </button>
              </div>
            </div>

            <!-- Deal 3 -->
            <div class="product-card-hover rounded-xl p-4 bg-white relative group">
              <a href="product-detail.html?id=13" class="block">
                <div class="relative h-60 mb-2 overflow-hidden p-0 flex items-center justify-center">
                  <span class="absolute top-0 left-0 bg-blue-600 text-white text-[10px] font-bold px-2 py-1 rounded-br-lg z-10">Siêu giảm giá</span>
                  <span class="absolute top-0 right-0 bg-red-600 text-white text-[10px] font-bold px-2 py-1 rounded-bl-lg z-10">-35%</span>
                  <img src="images/TECNO.avif" alt="Tecno" class="card-image rounded-md w-full h-full object-contain transition-transform group-hover:scale-105">
                </div>
                <div class="mt-auto flex flex-col gap-2">
                  <h3 class="font-bold text-sm text-gray-800 line-clamp-2 min-h-[40px]">Tecno Spark 20 Pro (8GB | 256GB)</h3>
                  <div class="price-block flex items-end gap-3">
                    <div class="text-lg font-black text-red-600 leading-none">4.999.000₫</div>
                    <div class="text-xs text-gray-400 line-through mb-1">7.690.000₫</div>
                  </div>
                  <div class="flex items-center justify-between">
                    <div class="flex items-center gap-1 text-yellow-400 text-xs"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div>
                    <div class="text-xs text-gray-500">(91)</div>
                  </div>
                </div>
              </a>
              <div class="flex gap-2 mt-3">
                <a href="product-detail.html?id=13" class="flex-1 bg-red-600 hover:bg-red-700 text-white text-center text-sm font-semibold py-2 px-3 rounded-lg transition-all flex items-center justify-center gap-1">
                  <i class="fas fa-bolt"></i> Mua ngay
                </a>
                <button onclick="addToCartQuick(13, 'Tecno Spark 20 Pro', 4999000, 'images/TECNO.avif')" class="bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm font-semibold py-2 px-3 rounded-lg transition-all" title="Thêm vào giỏ">
                  <i class="fas fa-cart-plus"></i>
                </button>
              </div>
            </div>

            <!-- Deal 4 -->
            <div class="product-card-hover rounded-xl p-4 bg-white relative group">
              <a href="product-detail.html?id=14" class="block">
                <div class="relative h-60 mb-2 overflow-hidden p-0 flex items-center justify-center">
                  <span class="absolute top-0 left-0 bg-red-600 text-white text-[10px] font-bold px-2 py-1 rounded-br-lg z-10">Giảm sốc</span>
                  <span class="absolute top-0 right-0 bg-red-600 text-white text-[10px] font-bold px-2 py-1 rounded-bl-lg z-10">-20%</span>
                  <img src="images/oppo-reno.avif" alt="Oppo Reno" class="card-image rounded-md w-full h-full object-contain transition-transform group-hover:scale-105">
                </div>
                <div class="mt-auto flex flex-col gap-2">
                  <h3 class="font-bold text-sm text-gray-800 line-clamp-2 min-h-[40px]">Oppo Reno11 F 5G (8GB | 256GB)</h3>
                  <div class="price-block flex items-end gap-3">
                    <div class="text-lg font-black text-red-600 leading-none">8.490.000₫</div>
                    <div class="text-xs text-gray-400 line-through mb-1">10.990.000₫</div>
                  </div>
                  <div class="flex items-center justify-between">
                    <div class="flex items-center gap-1 text-yellow-400 text-xs"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div>
                    <div class="text-xs text-gray-500">(18)</div>
                  </div>
                </div>
              </a>
              <div class="flex gap-2 mt-3">
                <a href="product-detail.html?id=14" class="flex-1 bg-red-600 hover:bg-red-700 text-white text-center text-sm font-semibold py-2 px-3 rounded-lg transition-all flex items-center justify-center gap-1">
                  <i class="fas fa-bolt"></i> Mua ngay
                </a>
                <button onclick="addToCartQuick(14, 'Oppo Reno11 F 5G', 8490000, 'images/oppo-reno.avif')" class="bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm font-semibold py-2 px-3 rounded-lg transition-all" title="Thêm vào giỏ">
                  <i class="fas fa-cart-plus"></i>
                </button>
              </div>
            </div>

            <!-- Deal 5 -->
            <div class="product-card-hover rounded-xl p-4 bg-white relative group">
              <a href="product-detail.html?id=15" class="block">
                <div class="relative h-60 mb-2 overflow-hidden p-0 flex items-center justify-center">
                  <span class="absolute top-0 left-0 bg-orange-500 text-white text-[10px] font-bold px-2 py-1 rounded-br-lg z-10">HOT SALE</span>
                  <img src="images/oppx9.avif" alt="OPPO X9 Pro" class="card-image rounded-md w-full h-full object-contain transition-transform group-hover:scale-105">
                </div>
                <div class="mt-auto flex flex-col gap-2">
                  <h3 class="font-bold text-sm text-gray-800 line-clamp-2 min-h-[40px]">OPPO Find X9 Pro (8GB | 256GB)</h3>
                  <div class="price-block flex items-end gap-3">
                    <div class="text-lg font-black text-red-600 leading-none">5.990.000₫</div>
                    <div class="text-xs text-gray-400 line-through mb-1">7.690.000₫</div>
                  </div>
                  <div class="flex items-center justify-between">
                    <div class="flex items-center gap-1 text-yellow-400 text-xs"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div>
                    <div class="text-xs text-gray-500">(22)</div>
                  </div>
                </div>
              </a>
              <div class="flex gap-2 mt-3">
                <a href="product-detail.html?id=15" class="flex-1 bg-red-600 hover:bg-red-700 text-white text-center text-sm font-semibold py-2 px-3 rounded-lg transition-all flex items-center justify-center gap-1">
                  <i class="fas fa-bolt"></i> Mua ngay
                </a>
                <button onclick="addToCartQuick(15, 'OPPO Find X9 Pro', 5990000, 'images/oppx9.avif')" class="bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm font-semibold py-2 px-3 rounded-lg transition-all" title="Thêm vào giỏ">
                  <i class="fas fa-cart-plus"></i>
                </button>
              </div>
            </div>

          </div>
        </div>
      </div>
  </section>

  <!-- SẢN PHẨM CHÍNH HÃNG -->
  <section class="py-3 sm:py-4 bg-gray-50 reveal-on-scroll">
    <div class="max-w-[1920px] mx-auto px-2 sm:px-3 md:px-4">
      <div class="bg-white rounded-xl md:rounded-2xl shadow-sm border border-gray-100 p-3 sm:p-4 md:p-5">
        <!-- Header Section -->
        <div class="flex items-center justify-between mb-4">
          <div class="flex items-center gap-3">
            <h2 class="text-xl sm:text-2xl md:text-3xl font-extrabold text-red-600">✅ SẢN PHẨM CHÍNH HÃNG</h2>
            <span class="hidden md:inline-flex items-center bg-green-100 text-green-600 text-xs font-semibold px-3 py-1 rounded-full">
              <i class="fas fa-shield-alt mr-1"></i>BẢO HÀNH TOÀN QUỐC
            </span>
          </div>
          <a href="products.html" class="text-red-600 hover:text-red-700 text-xs md:text-sm font-medium flex items-center gap-1">
            Xem tất cả <i class="fas fa-arrow-right"></i>
          </a>
        </div>

        <!-- Grid Layout 5 cột -->
        <div class="product-grid-responsive">
          <!-- Product 1 -->
          <div class="product-card-hover rounded-xl p-4 relative group">
            <a href="product-detail.html?id=20" class="block">
              <div class="relative h-60 mb-2 overflow-hidden p-0 flex items-center justify-center">
                <span class="absolute top-0 left-0 bg-gradient-to-r from-blue-600 to-cyan-500 text-white text-[10px] font-bold px-2 py-1 rounded-br-lg z-10">APPLE VN/A</span>
                <img src="images/15-256.avif" alt="iPhone 15 Pro Max" class="card-image rounded-md w-full h-full object-contain transition-transform group-hover:scale-105">
              </div>
              <div class="mt-auto flex flex-col gap-2">
                <h3 class="font-bold text-sm text-gray-800 line-clamp-2 min-h-[40px]">iPhone 15 Pro Max 256GB Titan</h3>
                <div class="price-block flex items-end gap-3">
                  <div class="text-lg font-black text-red-600 leading-none">33.990.000₫</div>
                  <div class="text-xs text-gray-400 line-through mb-1">38.990.000₫</div>
                </div>
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-1 text-yellow-400 text-xs"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div>
                  <div class="text-xs text-gray-500">(892)</div>
                </div>
              </div>
            </a>
            <div class="flex gap-2 mt-3">
              <a href="product-detail.html?id=20" class="flex-1 bg-red-600 hover:bg-red-700 text-white text-center text-sm font-semibold py-2 px-3 rounded-lg transition-all flex items-center justify-center gap-1">
                <i class="fas fa-bolt"></i> Mua ngay
              </a>
              <button onclick="addToCartQuick(20, 'iPhone 15 Pro Max 256GB', 33990000, 'images/15-256.avif')" class="bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm font-semibold py-2 px-3 rounded-lg transition-all" title="Thêm vào giỏ">
                <i class="fas fa-cart-plus"></i>
              </button>
            </div>
          </div>

          <!-- Product 2 -->
          <div class="product-card-hover rounded-xl p-4 relative group">
            <a href="product-detail.html?id=21" class="block">
              <div class="relative h-60 mb-2 overflow-hidden p-0 flex items-center justify-center">
                <span class="absolute top-0 left-0 bg-gradient-to-r from-red-600 to-orange-500 text-white text-[10px] font-bold px-2 py-1 rounded-br-lg z-10">GIẢM 15%</span>
                <img src="images/A16.avif" alt="Samsung Galaxy A16" class="card-image rounded-md w-full h-full object-contain transition-transform group-hover:scale-105">
              </div>
              <div class="mt-auto flex flex-col gap-2">
                <h3 class="font-bold text-sm text-gray-800 line-clamp-2 min-h-[40px]">Samsung Galaxy A16 5G 128GB</h3>
                <div class="price-block flex items-end gap-3">
                  <div class="text-lg font-black text-red-600 leading-none">3.990.000₫</div>
                  <div class="text-xs text-gray-400 line-through mb-1">4.990.000₫</div>
                </div>
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-1 text-yellow-400 text-xs"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div>
                  <div class="text-xs text-gray-500">(120)</div>
                </div>
              </div>
            </a>
            <div class="flex gap-2 mt-3">
              <a href="product-detail.html?id=21" class="flex-1 bg-red-600 hover:bg-red-700 text-white text-center text-sm font-semibold py-2 px-3 rounded-lg transition-all flex items-center justify-center gap-1">
                <i class="fas fa-bolt"></i> Mua ngay
              </a>
              <button onclick="addToCartQuick(21, 'Samsung Galaxy A16 5G', 3990000, 'images/A16.avif')" class="bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm font-semibold py-2 px-3 rounded-lg transition-all" title="Thêm vào giỏ">
                <i class="fas fa-cart-plus"></i>
              </button>
            </div>
          </div>

          <!-- Product 3 -->
          <div class="product-card-hover rounded-xl p-4 relative group">
            <a href="product-detail.html?id=22" class="block">
              <div class="relative h-60 mb-2 overflow-hidden p-0 flex items-center justify-center">
                <span class="absolute top-0 left-0 bg-gradient-to-r from-gray-800 to-black text-white text-[10px] font-bold px-2 py-1 rounded-br-lg z-10">ĐỘC QUYỀN</span>
                <img src="images/Xiaomi.avif" alt="Xiaomi 14" class="card-image rounded-md w-full h-full object-contain transition-transform group-hover:scale-105">
              </div>
              <div class="mt-auto flex flex-col gap-2">
                <h3 class="font-bold text-sm text-gray-800 line-clamp-2 min-h-[40px]">Xiaomi 14 5G (12GB | 512GB)</h3>
                <div class="price-block flex items-end gap-3">
                  <div class="text-lg font-black text-red-600 leading-none">19.990.000₫</div>
                  <div class="text-xs text-gray-400 line-through mb-1">24.990.000₫</div>
                </div>
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-1 text-yellow-400 text-xs"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star-half-alt"></i></div>
                  <div class="text-xs text-gray-500">(85)</div>
                </div>
              </div>
            </a>
            <div class="flex gap-2 mt-3">
              <a href="product-detail.html?id=22" class="flex-1 bg-red-600 hover:bg-red-700 text-white text-center text-sm font-semibold py-2 px-3 rounded-lg transition-all flex items-center justify-center gap-1">
                <i class="fas fa-bolt"></i> Mua ngay
              </a>
              <button onclick="addToCartQuick(22, 'Xiaomi 14 5G', 19990000, 'images/Xiaomi.avif')" class="bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm font-semibold py-2 px-3 rounded-lg transition-all" title="Thêm vào giỏ">
                <i class="fas fa-cart-plus"></i>
              </button>
            </div>
          </div>

          <!-- Product 4 -->
          <div class="product-card-hover rounded-xl p-4 relative group">
            <a href="product-detail.html?id=23" class="block">
              <div class="relative h-60 mb-2 overflow-hidden p-0 flex items-center justify-center">
                <span class="absolute top-0 left-0 bg-gradient-to-r from-purple-600 to-pink-500 text-white text-[10px] font-bold px-2 py-1 rounded-br-lg z-10">SALE SỐC</span>
                <img src="images/oppo-reno.avif" alt="Oppo Reno12" class="card-image rounded-md w-full h-full object-contain transition-transform group-hover:scale-105">
              </div>
              <div class="mt-auto flex flex-col gap-2">
                <h3 class="font-bold text-sm text-gray-800 line-clamp-2 min-h-[40px]">Oppo Reno12 F 5G (8GB | 256GB)</h3>
                <div class="price-block flex items-end gap-3">
                  <div class="text-lg font-black text-red-600 leading-none">8.090.000₫</div>
                  <div class="text-xs text-gray-400 line-through mb-1">11.990.000₫</div>
                </div>
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-1 text-yellow-400 text-xs"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div>
                  <div class="text-xs text-gray-500">(200)</div>
                </div>
              </div>
            </a>
            <div class="flex gap-2 mt-3">
              <a href="product-detail.html?id=23" class="flex-1 bg-red-600 hover:bg-red-700 text-white text-center text-sm font-semibold py-2 px-3 rounded-lg transition-all flex items-center justify-center gap-1">
                <i class="fas fa-bolt"></i> Mua ngay
              </a>
              <button onclick="addToCartQuick(23, 'Oppo Reno12 F 5G', 8090000, 'images/oppo-reno.avif')" class="bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm font-semibold py-2 px-3 rounded-lg transition-all" title="Thêm vào giỏ">
                <i class="fas fa-cart-plus"></i>
              </button>
            </div>
          </div>

          <!-- Product 5 -->
          <div class="product-card-hover rounded-xl p-4 relative group">
            <a href="product-detail.html?id=24" class="block">
              <div class="relative h-60 mb-2 overflow-hidden p-0 flex items-center justify-center">
                <span class="absolute top-0 left-0 bg-gradient-to-r from-green-600 to-teal-500 text-white text-[10px] font-bold px-2 py-1 rounded-br-lg z-10">MỚI VỀ</span>
                <img src="images/reno-xanh.avif" alt="OPPO Reno12" class="card-image rounded-md w-full h-full object-contain transition-transform group-hover:scale-105">
              </div>
              <div class="mt-auto flex flex-col gap-2">
                <h3 class="font-bold text-sm text-gray-800 line-clamp-2 min-h-[40px]">OPPO Reno12 F 5G (8GB | 256GB)</h3>
                <div class="price-block flex items-end gap-3">
                  <div class="text-lg font-black text-red-600 leading-none">9.490.000₫</div>
                  <div class="text-xs text-gray-400 line-through mb-1">11.990.000₫</div>
                </div>
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-1 text-yellow-400 text-xs"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="far fa-star"></i></div>
                  <div class="text-xs text-gray-500">(56)</div>
                </div>
              </div>
            </a>
            <div class="flex gap-2 mt-3">
              <a href="product-detail.html?id=24" class="flex-1 bg-red-600 hover:bg-red-700 text-white text-center text-sm font-semibold py-2 px-3 rounded-lg transition-all flex items-center justify-center gap-1">
                <i class="fas fa-bolt"></i> Mua ngay
              </a>
              <button onclick="addToCartQuick(24, 'OPPO Reno12 F 5G', 9490000, 'images/reno-xanh.avif')" class="bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm font-semibold py-2 px-3 rounded-lg transition-all" title="Thêm vào giỏ">
                <i class="fas fa-cart-plus"></i>
              </button>
            </div>
          </div>

        </div>
      </div>
    </div>
  </section>

  <!-- TOP BÁN CHẠY - Load động từ API sản phẩm bán chạy -->
  <section class="py-3 sm:py-4 bg-gray-50 reveal-on-scroll">
    <div class="max-w-[1920px] mx-auto px-2 sm:px-3 md:px-4">
      <div class="bg-white rounded-xl md:rounded-2xl shadow-sm border border-gray-100 p-3 sm:p-4 md:p-5">
        <!-- Header Section -->
        <div class="flex items-center justify-between mb-4">
          <div class="flex items-center gap-3">
            <h2 class="text-xl sm:text-2xl md:text-3xl font-extrabold text-red-600">🔥 TOP BÁN CHẠY</h2>
            <span class="hidden md:inline-flex items-center bg-orange-100 text-orange-600 text-xs font-semibold px-3 py-1 rounded-full animate-pulse">
              <i class="fas fa-crown mr-1"></i>BEST SELLER
            </span>
          </div>
          <a href="products.html" class="text-red-600 hover:text-red-700 text-xs md:text-sm font-medium flex items-center gap-1">
            Xem tất cả <i class="fas fa-arrow-right"></i>
          </a>
        </div>

        <!-- Grid Layout 5 cột - Load động từ API -->
        <div id="featured-products-grid" class="product-grid-responsive">
          <!-- Skeleton loading -->
          <div class="product-card-hover rounded-xl p-4 animate-pulse">
            <div class="h-60 bg-gray-200 rounded-lg mb-2"></div>
            <div class="h-4 bg-gray-200 rounded w-3/4 mb-2"></div>
            <div class="h-6 bg-gray-200 rounded w-1/2"></div>
          </div>
          <div class="product-card-hover rounded-xl p-4 animate-pulse">
            <div class="h-60 bg-gray-200 rounded-lg mb-2"></div>
            <div class="h-4 bg-gray-200 rounded w-3/4 mb-2"></div>
            <div class="h-6 bg-gray-200 rounded w-1/2"></div>
          </div>
          <div class="product-card-hover rounded-xl p-4 animate-pulse">
            <div class="h-60 bg-gray-200 rounded-lg mb-2"></div>
            <div class="h-4 bg-gray-200 rounded w-3/4 mb-2"></div>
            <div class="h-6 bg-gray-200 rounded w-1/2"></div>
          </div>
          <div class="product-card-hover rounded-xl p-4 animate-pulse">
            <div class="h-60 bg-gray-200 rounded-lg mb-2"></div>
            <div class="h-4 bg-gray-200 rounded w-3/4 mb-2"></div>
            <div class="h-6 bg-gray-200 rounded w-1/2"></div>
          </div>
          <div class="product-card-hover rounded-xl p-4 animate-pulse">
            <div class="h-60 bg-gray-200 rounded-lg mb-2"></div>
            <div class="h-4 bg-gray-200 rounded w-3/4 mb-2"></div>
            <div class="h-6 bg-gray-200 rounded w-1/2"></div>
          </div>
        </div>
        
        <!-- Script load sản phẩm bán chạy từ API -->
        <script>
          (async function loadBestSellerProducts() {
            const badges = ['APPLE VN/A', 'GIẢM 15%', 'ĐỘC QUYỀN', 'SALE SỐC', 'MỚI VỀ'];
            const badgeColors = [
              'from-blue-600 to-cyan-500',
              'from-red-600 to-orange-500', 
              'from-gray-800 to-black',
              'from-purple-600 to-pink-500',
              'from-green-600 to-teal-500'
            ];
            
            try {
              const res = await fetch('http://localhost:3000/api/products/featured?limit=5');
              const data = await res.json();
              
              if (data.success && data.data.length > 0) {
                const grid = document.getElementById('featured-products-grid');
                grid.innerHTML = data.data.map((product, index) => {
                  const price = new Intl.NumberFormat('vi-VN').format(product.price) + '₫';
                  const oldPrice = new Intl.NumberFormat('vi-VN').format(product.oldPrice) + '₫';
                  const badge = product.badge || badges[index % badges.length];
                  const badgeColor = product.badgeColor || badgeColors[index % badgeColors.length];
                  const rating = product.rating || 5;
                  const reviewCount = product.reviewCount || Math.floor(Math.random() * 200) + 50;
                  const storage = product.storage ? ` ${product.storage}GB` : '';
                  
                  // Render stars
                  let stars = '';
                  for (let i = 1; i <= 5; i++) {
                    if (i <= Math.floor(rating)) {
                      stars += '<i class="fas fa-star"></i>';
                    } else if (i - 0.5 <= rating) {
                      stars += '<i class="fas fa-star-half-alt"></i>';
                    } else {
                      stars += '<i class="far fa-star"></i>';
                    }
                  }
                  
                  return `
                    <div class="product-card-hover rounded-xl p-4 relative group">
                      <a href="product-detail.html?id=${product.id}" class="block">
                        <div class="relative h-60 mb-2 overflow-hidden p-0 flex items-center justify-center">
                          <span class="absolute top-0 left-0 bg-gradient-to-r ${badgeColor} text-white text-[10px] font-bold px-2 py-1 rounded-br-lg z-10">${badge}</span>
                          ${product.totalSold > 0 ? `<span class="absolute top-0 right-0 bg-red-500 text-white text-[10px] font-bold px-2 py-1 rounded-bl-lg z-10">🔥 ${product.totalSold} đã bán</span>` : ''}
                          <img src="${product.image}" alt="${product.name}" 
                            class="card-image rounded-md w-full h-full object-contain transition-transform group-hover:scale-105"
                            onerror="this.src='images/iphone-17-pro-max-256.jpg'">
                        </div>
                        <div class="mt-auto flex flex-col gap-2">
                          <h3 class="font-bold text-sm text-gray-800 line-clamp-2 min-h-[40px]">${product.name}${storage}</h3>
                          <div class="price-block flex items-end gap-3">
                            <div class="text-lg font-black text-red-600 leading-none">${price}</div>
                            <div class="text-xs text-gray-400 line-through mb-1">${oldPrice}</div>
                          </div>
                          <div class="flex items-center justify-between">
                            <div class="flex items-center gap-1 text-yellow-400 text-xs">${stars}</div>
                            <div class="text-xs text-gray-500">(${reviewCount})</div>
                          </div>
                        </div>
                      </a>
                      <!-- Nút Mua ngay và Thêm giỏ hàng -->
                      <div class="flex gap-2 mt-3">
                        <a href="product-detail.html?id=${product.id}" 
                           class="flex-1 bg-red-600 hover:bg-red-700 text-white text-center text-sm font-semibold py-2 px-3 rounded-lg transition-all flex items-center justify-center gap-1">
                          <i class="fas fa-bolt"></i> Mua ngay
                        </a>
                        <button onclick="event.preventDefault(); addToCartQuick(${product.id}, '${product.name.replace(/'/g, "\\'")}', ${product.price}, '${product.image}')" 
                                class="bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm font-semibold py-2 px-3 rounded-lg transition-all flex items-center justify-center"
                                title="Thêm vào giỏ">
                          <i class="fas fa-cart-plus"></i>
                        </button>
                      </div>
                    </div>
                  `;
                }).join('');
              }
            } catch (e) {
              console.error('Error loading best seller products:', e);
            }
          })();
          
          // Hàm thêm vào giỏ hàng nhanh
          function addToCartQuick(productId, productName, price, image) {
            // Lấy giỏ hàng hiện tại từ localStorage
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            
            // Kiểm tra sản phẩm đã có trong giỏ chưa
            const existingIndex = cart.findIndex(item => item.id === productId);
            
            if (existingIndex > -1) {
              // Tăng số lượng nếu đã có
              cart[existingIndex].quantity += 1;
            } else {
              // Thêm mới
              cart.push({
                id: productId,
                name: productName,
                price: price,
                image: image,
                quantity: 1
              });
            }
            
            // Lưu lại
            localStorage.setItem('cart', JSON.stringify(cart));
            
            // Cập nhật badge số lượng giỏ hàng (nếu có)
            const cartBadge = document.querySelector('.cart-count, #cart-count');
            if (cartBadge) {
              const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
              cartBadge.textContent = totalItems;
              cartBadge.style.display = totalItems > 0 ? 'flex' : 'none';
            }
            
            // Hiển thị thông báo
            showAddToCartNotification(productName);
          }
          
          // Hiển thị thông báo đã thêm vào giỏ
          function showAddToCartNotification(productName) {
            // Tạo toast notification
            const toast = document.createElement('div');
            toast.className = 'fixed bottom-4 right-4 bg-green-600 text-white px-4 py-3 rounded-xl shadow-lg z-50 flex items-center gap-3 animate-slide-in';
            toast.innerHTML = `
              <i class="fas fa-check-circle text-xl"></i>
              <div>
                <p class="font-semibold">Đã thêm vào giỏ hàng!</p>
                <p class="text-sm opacity-90">${productName.substring(0, 30)}...</p>
              </div>
              <a href="cart.html" class="ml-2 bg-white text-green-600 px-3 py-1 rounded-lg text-sm font-semibold hover:bg-green-50">
                Xem giỏ
              </a>
            `;
            document.body.appendChild(toast);
            
            // Xóa sau 3 giây
            setTimeout(() => {
              toast.style.opacity = '0';
              toast.style.transform = 'translateY(20px)';
              setTimeout(() => toast.remove(), 300);
            }, 3000);
          }
        </script>
      </div>
    </div>
  </section>

  <!-- ===== SECTION REVIEW ===== -->
  <section class="py-3 sm:py-4 bg-gray-100">
    <div class="max-w-[1920px] mx-auto px-2 sm:px-3 md:px-4">
      <!-- Khung trắng chứa đánh giá -->
      <div class="bg-white rounded-xl md:rounded-2xl shadow-sm p-3 sm:p-4 md:p-5">

        <!-- Header -->
        <div class="flex items-center justify-between mb-4">
          <h2 class="text-xl sm:text-2xl md:text-3xl font-extrabold text-orange-600">📺 VIDEO REVIEW</h2>
          <div class="flex items-center gap-2">
            <a href="https://youtube.com" target="_blank" class="w-8 h-8 bg-red-600 hover:bg-red-700 rounded-lg flex items-center justify-center transition-all">
              <i class="fab fa-youtube text-white text-sm"></i>
            </a>
            <a href="https://tiktok.com" target="_blank" class="w-8 h-8 bg-black hover:bg-gray-800 rounded-lg flex items-center justify-center transition-all">
              <i class="fab fa-tiktok text-white text-sm"></i>
            </a>
          </div>
        </div>

        <!-- Grid layout -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-3">

          <!-- Video lớn bên trái -->
          <div class="lg:col-span-2 bg-gray-50 rounded-xl shadow-lg overflow-hidden">
            <div class="relative">
              <video src="images/17 prm web.mp4" autoplay muted loop playsinline
                class="w-full h-[350px] object-cover rounded-t-xl"></video>
            </div>

            <!-- Box thông tin -->
            <div class="flex items-center justify-between bg-white p-3 md:p-4 rounded-b-xl">
              <div class="flex items-center gap-3">
                <div class="w-14 h-14 bg-gray-100 rounded-lg p-1 shadow-sm">
                  <img src="images/iphone-17-pro-max-256.jpg" alt="iPhone 17 icon"
                    class="w-full h-full object-contain" onerror="this.src='images/iphone.jpg'">
                </div>
                <div>
                  <h3 class="text-sm md:text-base font-semibold text-gray-900 mb-0.5">Điện thoại Apple iPhone 17 Pro Max
                    256GB ZP/A
                  </h3>
                  <p class="text-base md:text-lg font-bold text-orange-500">37.990.000đ</p>
                </div>
              </div>
              <a href="product_detail.html?id=20"
                class="bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg font-semibold text-base md:text-lg shadow-md transition-all no-wishlist">
                Khám phá ngay
              </a>
            </div>
          </div>

          <!-- Hai video nhỏ bên phải -->
          <div class="flex flex-col gap-3">

            <!-- Video nhỏ 1 -->
            <div class="bg-gray-50 rounded-xl shadow-lg overflow-hidden">
              <video src="images/15 PRM.mp4" autoplay muted loop playsinline
                class="w-full h-[170px] object-cover rounded-t-xl"></video>
              <div class="flex items-center justify-between bg-white p-3 rounded-b-xl">
                <div class="flex items-center gap-2">
                  <div class="w-14 h-14 md:w-12 md:h-12 bg-gray-100 rounded-lg p-1 shadow-sm">
                    <img src="images/iphone-15-pro-max-256-99.png"
                      alt="iPhone 15 icon" class="w-full h-full object-contain"
                      onerror="this.src='images/15-256.avif'">
                  </div>
                  <div>
                    <h4 class="text-sm md:text-base font-semibold text-gray-900 mb-0.5">Điện thoại Apple iPhone 15 Pro
                      Max 256GB - 99%
                    </h4>
                    <p class="text-base md:text-lg font-bold text-orange-500">20.990.000đ</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Video nhỏ 2 -->
            <div class="bg-gray-50 rounded-xl shadow-lg overflow-hidden">
              <video src="images/14 PRM.mp4" autoplay muted loop playsinline
                class="w-full h-[170px] object-cover rounded-t-xl"></video>
              <div class="flex items-center justify-between bg-white p-3 rounded-b-xl">
                <div class="flex items-center gap-2">
                  <div class="w-14 h-14 md:w-12 md:h-12 bg-gray-100 rounded-lg p-1 shadow-sm">
                    <img src="images/iphone-14-pro-max-128-99.webp"
                      alt="iPhone 14 icon" class="w-full h-full object-contain" onerror="this.src='images/iphone-14-pro-max-128-99.webp'">
                  </div>
                  <div>
                    <h4 class="text-sm md:text-base font-semibold text-gray-900 mb-0.5">Điện thoại Apple iPhone 14 Pro
                      Max 128GB - 99%
                    </h4>
                    <p class="text-base md:text-lg font-bold text-orange-500">16.390.000đ</p>
                  </div>
                </div>
              </div>
            </div>

          </div>

        </div>
      </div>
  </section>

  <!-- ===== TESTIMONIALS / KHÁCH HÀNG ĐÁNH GIÁ ===== -->


  <!-- ===== TIN TỨC CÔNG NGHỆ ===== -->
  <section id="news-section" class="py-3 sm:py-4 bg-gray-100 scroll-mt-20">
    <div class="max-w-[1920px] mx-auto px-2 sm:px-3 md:px-4">
      <!-- Khung trắng chứa tin tức -->
      <div class="bg-white rounded-xl md:rounded-2xl shadow-sm p-3 sm:p-4 md:p-5">

        <!-- Header Section -->
        <div class="flex items-center justify-between mb-4">
          <h2 class="text-xl sm:text-2xl md:text-3xl font-extrabold text-purple-600">TIN TỨC CÔNG NGHỆ</h2>
          <div class="flex items-center gap-2">
            <button id="prevNewsBtn" class="w-7 h-7 rounded border border-gray-300 text-gray-500 hover:bg-gray-100 transition-all flex items-center justify-center text-xs">
              <i class="fas fa-chevron-left"></i>
            </button>
            <button id="nextNewsBtn" class="w-7 h-7 rounded border border-gray-300 text-gray-500 hover:bg-gray-100 transition-all flex items-center justify-center text-xs">
              <i class="fas fa-chevron-right"></i>
            </button>
          </div>
        </div>

        <!-- News Carousel Container -->
        <div class="relative overflow-hidden">
          <div id="newsCarousel" class="flex gap-6 transition-transform duration-500 ease-out">
            <!-- News items will be loaded from database -->
            <div class="flex-shrink-0 w-[90%] md:w-[45%] lg:w-[30%] animate-pulse">
              <div class="h-64 bg-gray-200 rounded-2xl mb-4"></div>
              <div class="h-6 bg-gray-200 rounded mb-2"></div>
              <div class="h-4 bg-gray-100 rounded"></div>
            </div>
          </div>
        </div>
        
        <script>
          // Load news from database for index page
          (async function loadIndexNews() {
            const badgeColors = ['bg-blue-500', 'bg-orange-500', 'bg-purple-500', 'bg-green-500'];
            const categories = ['Mẹo hay', 'Tin mới', 'Tin mới', 'Công nghệ'];
            
            try {
              const res = await fetch('http://localhost:3000/api/news/featured?limit=4');
              const data = await res.json();
              
              if (data.success && data.data.length > 0) {
                const carousel = document.getElementById('newsCarousel');
                carousel.innerHTML = data.data.map((news, index) => {
                  const date = new Date(news.ngay_dang);
                  const formattedDate = `${String(date.getDate()).padStart(2,'0')}/${String(date.getMonth()+1).padStart(2,'0')}/${date.getFullYear()}`;
                  const desc = news.noi_dung ? news.noi_dung.substring(0, 150) + '...' : '';
                  
                  return `
                    <article class="flex-shrink-0 w-[90%] md:w-[45%] lg:w-[30%] group cursor-pointer">
                      <a href="news-detail.html?id=${news.ma_tintuc}" class="block">
                        <div class="relative h-64 rounded-2xl overflow-hidden mb-4">
                          <img src="${news.anh_dai_dien || 'images/inta.webp'}" alt="${news.tieu_de}"
                            class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
                            onerror="this.src='images/inta.webp'">
                          <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"></div>
                          <div class="absolute bottom-4 left-4 right-4">
                            <div class="flex items-center gap-2 text-white text-sm">
                              <span class="font-medium">${formattedDate}</span>
                              <span>•</span>
                              <span class="${badgeColors[index % 4]} px-3 py-1 rounded-full text-xs font-semibold">${categories[index % 4]}</span>
                            </div>
                          </div>
                        </div>
                        <h3 class="text-lg md:text-xl font-bold text-gray-900 mb-2 line-clamp-2 group-hover:text-red-600 transition-colors">
                          ${news.tieu_de}
                        </h3>
                        <p class="text-sm md:text-base text-gray-600 line-clamp-2">${desc}</p>
                      </a>
                    </article>
                  `;
                }).join('');
              }
            } catch (e) {
              console.error('Error loading news:', e);
            }
          })();
        </script>
      </div>
  </section>

  <!-- ===== GIỚI THIỆU CỬA HÀNG ===== -->
  <section class="py-3 sm:py-4 bg-gray-100">
    <div class="max-w-[1920px] mx-auto px-2 sm:px-3 md:px-4">
      <!-- Khung trắng chứa giới thiệu -->
      <div class="bg-white rounded-xl md:rounded-2xl shadow-sm p-3 sm:p-4 md:p-5">

        <!-- Tiêu đề -->
        <div class="text-center mb-5">
          <h2 class="text-xl sm:text-2xl md:text-3xl font-extrabold text-green-600 mb-1">Về QuangHưng Mobile</h2>
          <p class="text-gray-500 text-xs sm:text-sm">Hơn 15 năm đồng hành cùng công nghệ Việt</p>
        </div>

        <!-- Nội dung chính: Grid 2 cột -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">

          <!-- Cột trái: Hình ảnh -->
          <div class="relative rounded-2xl overflow-hidden shadow-lg">
            <img src="images/cuahang.png" alt="QuangHưng Mobile Store" class="w-full h-[400px] object-cover">
            <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"></div>
            <div class="absolute bottom-6 left-6 right-6 text-white">
              <h3 class="text-2xl font-bold mb-2">QuangHưng Mobile</h3>
              <p class="text-sm">Địa chỉ tin cậy cho mọi sản phẩm công nghệ</p>
            </div>
          </div>

          <!-- Cột phải: Nội dung văn bản -->
          <div class="flex flex-col justify-center">
            <div id="aboutContent" class="relative">
              <div id="textContent"
                class="text-gray-700 leading-relaxed space-y-4 overflow-hidden transition-all duration-500"
                style="max-height: 300px;">
                <p class="text-justify">
                  <strong class="text-red-600">QuangHưng Mobile</strong> được thành lập từ năm 2010, bắt đầu từ một cửa
                  hàng nhỏ tại Hà Nội. Trải qua hơn 15 năm phát triển, chúng tôi đã trở thành một trong những địa chỉ uy
                  tín hàng đầu trong lĩnh vực kinh doanh các mặt hàng công nghệ như điện thoại di động, máy tính bảng,
                  laptop, phụ kiện, linh kiện...
                </p>

                <p class="text-justify">
                  Sau hơn 16 năm phát triển, <strong>QuangHưng Mobile</strong> đã khẳng định vị thế là đại lý ủy quyền
                  chính thức của nhiều thương hiệu công nghệ hàng đầu thế giới như Apple, Samsung, Xiaomi, OPPO.
                </p>

                <p class="text-justify">
                  Với phương châm <strong class="text-red-600">"CHUYÊN GIAO GIÁ TRỊ VƯỢT TRỘI"</strong>, QuangHưng
                  Mobile cam kết mang đến cho khách hàng những sản phẩm công nghệ chất lượng cao cùng dịch vụ hậu mãi
                  vượt trội.
                </p>

                <p class="text-justify">
                  Đội ngũ nhân viên chuyên nghiệp, nhiệt tình, am hiểu sâu sắc về sản phẩm, luôn sẵn sàng tư vấn và hỗ
                  trợ khách hàng lựa chọn sản phẩm phù hợp nhất với nhu cầu sử dụng.
                </p>

                <p class="text-justify">
                  Hệ thống cửa hàng được bố trí khoa học, hiện đại, tạo không gian mua sắm thoải mái. Chính sách bảo
                  hành, đổi trả linh hoạt, minh bạch, đảm bảo quyền lợi tối đa cho người tiêu dùng.
                </p>

                <p class="text-justify">
                  <strong>QuangHưng Mobile</strong> không ngừng đổi mới, cải tiến để mang đến trải nghiệm mua sắm tốt
                  nhất. Với sứ mệnh kết nối công nghệ với cuộc sống, chúng tôi luôn đặt sự hài lòng của khách hàng lên
                  hàng đầu.
                </p>
              </div>

              <!-- Gradient overlay khi thu gọn -->
              <div id="gradientOverlay"
                class="absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-white to-transparent pointer-events-none">
              </div>
            </div>

            <!-- Nút Xem thêm/Thu gọn -->
            <button id="toggleBtn"
              class="mt-4 text-red-600 font-semibold hover:text-red-700 transition-colors flex items-center gap-2 text-sm">
              <span id="toggleText">Xem thêm</span>
              <i id="toggleIcon" class="fas fa-chevron-down"></i>
            </button>
          </div>
        </div>
      </div>
  </section>

  <script>
    // Toggle "Xem thêm" / "Thu gọn"
    document.addEventListener('DOMContentLoaded', function () {
      const toggleBtn = document.getElementById('toggleBtn');
      const textContent = document.getElementById('textContent');
      const toggleText = document.getElementById('toggleText');
      const toggleIcon = document.getElementById('toggleIcon');
      const gradientOverlay = document.getElementById('gradientOverlay');
      let isExpanded = false;

      if (toggleBtn && textContent) {
        toggleBtn.addEventListener('click', function () {
          isExpanded = !isExpanded;

          if (isExpanded) {
            textContent.style.maxHeight = textContent.scrollHeight + 'px';
            toggleText.textContent = 'Thu gọn';
            toggleIcon.classList.remove('fa-chevron-down');
            toggleIcon.classList.add('fa-chevron-up');
            gradientOverlay.style.opacity = '0';
          } else {
            textContent.style.maxHeight = '300px';
            toggleText.textContent = 'Xem thêm';
            toggleIcon.classList.remove('fa-chevron-up');
            toggleIcon.classList.add('fa-chevron-down');
            gradientOverlay.style.opacity = '1';
          }
        });
      }
    });
  </script>



  <!-- CSS Animation for Background Blobs -->
  <style>
    @keyframes blob {
      0% {
        transform: translate(0px, 0px) scale(1);
      }

      33% {
        transform: translate(30px, -50px) scale(1.1);
      }

      66% {
        transform: translate(-20px, 20px) scale(0.9);
      }

      100% {
        transform: translate(0px, 0px) scale(1);
      }
    }

    .animate-blob {
      animation: blob 7s infinite;
    }

    .animation-delay-2000 {
      animation-delay: 2s;
    }
  </style>

  <script>
    // News Carousel Functionality
    document.addEventListener('DOMContentLoaded', function () {
      const carousel = document.getElementById('newsCarousel');
      const prevBtn = document.getElementById('prevNewsBtn');
      const nextBtn = document.getElementById('nextNewsBtn');

      if (carousel && prevBtn && nextBtn) {
        let currentIndex = 0;

        function getItemsPerView() {
          if (window.innerWidth >= 1024) return 3;
          if (window.innerWidth >= 768) return 2;
          return 1;
        }

        function updateCarousel() {
          const items = carousel.children;
          const totalItems = items.length;
          if (totalItems === 0) return;
          
          const itemsPerView = getItemsPerView();
          const itemWidth = items[0].offsetWidth;
          const gap = 24;
          const offset = currentIndex * (itemWidth + gap);
          carousel.style.transform = `translateX(-${offset}px)`;

          prevBtn.disabled = currentIndex === 0;
          nextBtn.disabled = currentIndex >= totalItems - itemsPerView;

          prevBtn.classList.toggle('opacity-50', prevBtn.disabled);
          prevBtn.classList.toggle('cursor-not-allowed', prevBtn.disabled);
          nextBtn.classList.toggle('opacity-50', nextBtn.disabled);
          nextBtn.classList.toggle('cursor-not-allowed', nextBtn.disabled);
        }

        prevBtn.addEventListener('click', () => {
          if (currentIndex > 0) {
            currentIndex--;
            updateCarousel();
          }
        });

        nextBtn.addEventListener('click', () => {
          const items = carousel.children;
          const itemsPerView = getItemsPerView();
          if (currentIndex < items.length - itemsPerView) {
            currentIndex++;
            updateCarousel();
          }
        });

        window.addEventListener('resize', () => {
          const items = carousel.children;
          const itemsPerView = getItemsPerView();
          if (currentIndex >= items.length - itemsPerView) {
            currentIndex = Math.max(0, items.length - itemsPerView);
          }
          updateCarousel();
        });

        // Initial update after news loaded
        setTimeout(updateCarousel, 1000);
      }
    });

    // Smooth scroll to news section
    document.addEventListener('DOMContentLoaded', function () {
      // Desktop menu
      const newsLinks = document.querySelectorAll('.scroll-to-news');
      newsLinks.forEach(link => {
        link.addEventListener('click', function (e) {
          e.preventDefault();
          const newsSection = document.getElementById('news-section');
          if (newsSection) {
            const offsetTop = newsSection.offsetTop - 80; // 80px for header height
            window.scrollTo({
              top: offsetTop,
              behavior: 'smooth'
            });
          }
        });
      });

      // Mobile menu
      const newsMobileLinks = document.querySelectorAll('.scroll-to-news-mobile');
      newsMobileLinks.forEach(link => {
        link.addEventListener('click', function (e) {
          e.preventDefault();

          // Close mobile menu first
          const mobileMenu = document.getElementById('mobile-menu');
          const mobileMenuSidebar = document.getElementById('mobile-menu-sidebar');
          if (mobileMenuSidebar) {
            mobileMenuSidebar.classList.add('-translate-x-full');
            setTimeout(() => {
              if (mobileMenu) mobileMenu.classList.add('hidden');
            }, 300);
          }

          // Then scroll to news section
          setTimeout(() => {
            const newsSection = document.getElementById('news-section');
            if (newsSection) {
              const offsetTop = newsSection.offsetTop - 80;
              window.scrollTo({
                top: offsetTop,
                behavior: 'smooth'
              });
            }
          }, 400);
        });
      });

      // Handle direct link from other pages (e.g., news.html -> index.html#news-section)
      if (window.location.hash === '#news-section') {
        setTimeout(() => {
          const newsSection = document.getElementById('news-section');
          if (newsSection) {
            const offsetTop = newsSection.offsetTop - 80;
            window.scrollTo({
              top: offsetTop,
              behavior: 'smooth'
            });
          }
        }, 100);
      }
    });
  </script>

  <style>
    .active-tab {
      background-color: #f3f4f6 !important;
      border-color: #e5e7eb !important;
    }

    .news-tab {
      cursor: pointer;
    }
  </style>



  <button id="chatbot-toggle"
    class="fixed bottom-6 right-6 bg-gradient-to-r from-red-600 to-red-700 text-white w-16 h-16 rounded-full shadow-xl hover:from-red-700 hover:to-red-800 transition-all duration-300 z-60 group animate-pulse hover:animate-none">
    <i class="fas fa-comments text-2xl group-hover:scale-110 transition-transform"></i>
  </button>

  <div id="chatbot-window"
    class="fixed bottom-24 right-6 w-96 bg-white rounded-2xl shadow-2xl hidden z-50 border-2 border-blue-200">
    <div
      class="bg-gradient-to-r from-blue-600 to-blue-700 text-white p-5 rounded-t-2xl flex justify-between items-center">
      <div class="flex items-center">
        <div class="w-12 h-12 bg-white rounded-full flex items-center justify-center mr-3 shadow-lg">
          <i class="fas fa-robot text-blue-600 text-2xl"></i>
        </div>
        <div>
          <h3 class="font-black text-xl bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent">AI Tư vấn
          </h3>
          <p class="text-sm text-blue-100 flex items-center">
            <span class="w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"></span>
            Trực tuyến
          </p>
        </div>
      </div>
      <button id="chatbot-close" class="text-white hover:text-gray-200">
        <i class="fas fa-times text-xl"></i>
      </button>
    </div>

    <div class="h-96 overflow-y-auto p-4 space-y-4">
      <div class="flex items-start">
        <div class="bg-gray-100 rounded-lg p-3 max-w-xs">
          <p class="text-sm">Xin chào! Tôi là trợ lý AI của QuangHưng Mobile. Tôi có thể giúp gì cho bạn?</p>
        </div>
      </div>

      <div class="flex justify-end">
        <div class="bg-red-600 text-white rounded-lg p-3 max-w-xs">
          <p class="text-sm">Cho tôi xem điện thoại dưới 20 triệu</p>
        </div>
      </div>

      <div class="flex items-start">
        <div class="bg-gray-100 rounded-lg p-3 max-w-xs">
          <p class="text-sm">Dưới đây là một số điện thoại phù hợp với ngân sách của bạn:</p>
          <ul class="text-sm mt-2 space-y-1">
            <li>• Xiaomi 14 Pro - 19.990.000đ</li>
            <li>• Samsung Galaxy A54 - 10.990.000đ</li>
            <li>• iPhone 13 - 17.990.000đ</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="border-t p-4">
      <div class="flex space-x-2">
        <input type="text" placeholder="Nhập tin nhắn..."
          class="flex-1 border rounded-full px-4 py-2 outline-none focus:border-red-600" />
        <button class="bg-red-600 text-white w-10 h-10 rounded-full hover:bg-red-700 transition">
          <i class="fas fa-paper-plane"></i>
        </button>
      </div>
      <div class="flex flex-wrap gap-2 mt-3">
        <button class="bg-gray-100 text-gray-700 text-xs px-3 py-1 rounded-full hover:bg-gray-200 transition">
          Khuyến mãi
        </button>
        <button class="bg-gray-100 text-gray-700 text-xs px-3 py-1 rounded-full hover:bg-gray-200 transition">
          So sánh sản phẩm
        </button>
        <button class="bg-gray-100 text-gray-700 text-xs px-3 py-1 rounded-full hover:bg-gray-200 transition">
          Bảo hành
        </button>
      </div>
    </div>
  </div>



  <script>
    const chatbotToggle = document.getElementById('chatbot-toggle');
    const chatbotWindow = document.getElementById('chatbot-window');
    const chatbotClose = document.getElementById('chatbot-close');

    chatbotToggle.addEventListener('click', () => {
      chatbotWindow.classList.toggle('hidden');
    });

    chatbotClose.addEventListener('click', () => {
      chatbotWindow.classList.add('hidden');
    });
  </script>

  <script>
    // Banner Carousel Logic
    (function () {
      const bannerCarousel = document.getElementById('banner-carousel');
      if (!bannerCarousel) return;

      const slides = bannerCarousel.querySelectorAll('.banner-slide');
      if (!slides || slides.length === 0) return;

      const prevBtn = document.getElementById('prevBannerBtn');
      const nextBtn = document.getElementById('nextBannerBtn');
      const indicators = bannerCarousel.parentElement.querySelectorAll('.banner-indicator');

      let currentIndex = 0;
      let autoPlayInterval = null;

      function goToSlide(index) {
        if (index < 0) index = slides.length - 1;
        if (index >= slides.length) index = 0;

        currentIndex = index;

        // Move carousel
        const offset = -currentIndex * 100;
        bannerCarousel.style.transform = `translateX(${offset}%)`;

        // Update indicators
        indicators.forEach((indicator, i) => {
          if (i === currentIndex) {
            indicator.classList.remove('bg-white/50');
            indicator.classList.add('bg-white');
          } else {
            indicator.classList.remove('bg-white');
            indicator.classList.add('bg-white/50');
          }
        });
      }

      function nextSlide() {
        goToSlide(currentIndex + 1);
      }

      function prevSlide() {
        goToSlide(currentIndex - 1);
      }

      // Event listeners for navigation buttons
      if (nextBtn) {
        nextBtn.addEventListener('click', () => {
          nextSlide();
          resetAutoPlay();
        });
      }

      if (prevBtn) {
        prevBtn.addEventListener('click', () => {
          prevSlide();
          resetAutoPlay();
        });
      }

      // Event listeners for indicators
      indicators.forEach((indicator, index) => {
        indicator.addEventListener('click', () => {
          goToSlide(index);
          resetAutoPlay();
        });
      });

      // Auto-play functionality
      function startAutoPlay() {
        autoPlayInterval = setInterval(nextSlide, 5000); // Change slide every 5 seconds
      }

      function stopAutoPlay() {
        if (autoPlayInterval) {
          clearInterval(autoPlayInterval);
          autoPlayInterval = null;
        }
      }

      function resetAutoPlay() {
        stopAutoPlay();
        startAutoPlay();
      }

      // Pause auto-play on hover
      const carouselContainer = bannerCarousel.parentElement;
      carouselContainer.addEventListener('mouseenter', stopAutoPlay);
      carouselContainer.addEventListener('mouseleave', startAutoPlay);

      // Start auto-play
      startAutoPlay();

      // Initialize first slide
      goToSlide(0);
    })();
  </script>

  <script>
    // Flash Sale Countdown Timer
    (function () {
      const hoursEl = document.getElementById('hours');
      const minutesEl = document.getElementById('minutes');
      const secondsEl = document.getElementById('seconds');

      if (!hoursEl || !minutesEl || !secondsEl) return;

      // Set end time to 3 hours from now (can be changed to any specific time)
      const now = new Date().getTime();
      const endTime = now + (3 * 60 * 60 * 1000); // 3 hours from now

      function updateCountdown() {
        const now = new Date().getTime();
        const distance = endTime - now;

        if (distance < 0) {
          // Timer expired, reset to 3 hours
          hoursEl.textContent = '00';
          minutesEl.textContent = '00';
          secondsEl.textContent = '00';
          return;
        }

        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);

        hoursEl.textContent = hours.toString().padStart(2, '0');
        minutesEl.textContent = minutes.toString().padStart(2, '0');
        secondsEl.textContent = seconds.toString().padStart(2, '0');
      }

      // Update immediately
      updateCountdown();

      // Update every second
      setInterval(updateCountdown, 1000);
    })();
  </script>

  <script>
    // Simple carousel logic (guarded)
    (function () {
      const carousel = document.getElementById('carousel');
      if (!carousel) return;
      const slides = carousel.querySelectorAll('.min-w-full');
      if (!slides || slides.length <= 1) return; // nothing to rotate

      const prevBtn = document.getElementById('prevBtn');
      const nextBtn = document.getElementById('nextBtn');
      let index = 0;
      let interval = null;

      function goTo(i) {
        index = (i + slides.length) % slides.length;
        carousel.style.transform = `translateX(-${index * 100}%)`;
      }

      function next() { goTo(index + 1); }
      function prev() { goTo(index - 1); }

      if (nextBtn) nextBtn.addEventListener('click', next);
      if (prevBtn) prevBtn.addEventListener('click', prev);

      function startAuto() { interval = setInterval(next, 4000); }
      function stopAuto() { clearInterval(interval); }

      carousel.addEventListener('mouseenter', stopAuto);
      carousel.addEventListener('mouseleave', startAuto);

      startAuto();
    })();
  </script>
  <script>
    // Deals strip scrolling
    (function () {
      const container = document.getElementById('deals-container');
      const prev = document.getElementById('deals-prev');
      const next = document.getElementById('deals-next');
      if (!container || !prev || !next) return;

      function scrollBy(amount) {
        container.scrollBy({ left: amount, behavior: 'smooth' });
      }

      prev.addEventListener('click', () => scrollBy(-container.clientWidth / 2));
      next.addEventListener('click', () => scrollBy(container.clientWidth / 2));
    })();
  </script>
  <!-- Mobile fixed promo button -->
  <a href="promotions.html"
    class="md:hidden fixed bottom-6 right-4 bg-red-600 text-white px-4 py-3 rounded-full shadow-lg z-50"
    id="mobile-promo-btn">
    <i class="fas fa-tag mr-2"></i> Khuyến mãi
  </a>



  <script>
    // Wishlist & Quick View Functionality
    (function () {
      let wishlist = JSON.parse(localStorage.getItem('wishlist') || '[]');

      // Update wishlist count
      function updateWishlistCount() {
        const badge = document.getElementById('wishlist-count');
        if (!badge) return; // Guard clause - element doesn't exist yet

        const count = wishlist.length;
        if (count > 0) {
          badge.textContent = count;
          badge.classList.remove('hidden');
        } else {
          badge.classList.add('hidden');
        }
      }

      // Add to wishlist
      function addToWishlist(productId, productName, productPrice, productImage) {
        const exists = wishlist.find(item => item.id === productId);
        if (!exists) {
          wishlist.push({ id: productId, name: productName, price: productPrice, image: productImage });
          localStorage.setItem('wishlist', JSON.stringify(wishlist));
          updateWishlistCount();
          showNotification('Đã thêm vào yêu thích!', 'success');
        } else {
          removeFromWishlist(productId);
        }
      }

      // Remove from wishlist
      function removeFromWishlist(productId) {
        wishlist = wishlist.filter(item => item.id !== productId);
        localStorage.setItem('wishlist', JSON.stringify(wishlist));
        updateWishlistCount();
        renderWishlist();
        showNotification('Đã xóa khỏi yêu thích!', 'info');
      }

      // Show notification
      function showNotification(message, type = 'success') {
        const notification = document.createElement('div');
        notification.className = `fixed top-24 right-6 z-[60] px-6 py-3 rounded-lg shadow-xl text-white font-semibold animate-slideIn ${type === 'success' ? 'bg-green-600' : 'bg-blue-600'}`;
        notification.innerHTML = `<i class="fas fa-check-circle mr-2"></i>${message}`;
        document.body.appendChild(notification);

        setTimeout(() => {
          notification.remove();
        }, 3000);
      }

      // Render wishlist in modal
      function renderWishlist() {
        const container = document.getElementById('wishlist-items');
        if (wishlist.length === 0) {
          container.innerHTML = '<p class="text-center text-gray-500 py-8">Chưa có sản phẩm yêu thích</p>';
          return;
        }

        container.innerHTML = wishlist.map(item => `
            <div class="flex items-center gap-4 p-4 border-b hover:bg-gray-50 transition">
              <img src="${item.image || 'https://via.placeholder.com/100'}" alt="${item.name}" class="w-20 h-20 object-contain rounded">
              <div class="flex-1">
                <h4 class="font-bold text-gray-800">${item.name}</h4>
                <p class="text-red-600 font-bold">${item.price || 'Liên hệ'}</p>
              </div>
              <button onclick="removeFromWishlist('${item.id}')" class="text-red-600 hover:text-red-700 text-xl">
                <i class="fas fa-trash"></i>
              </button>
            </div>
          `).join('');
      }

      // Toggle wishlist modal
      const wishlistBtn = document.getElementById('wishlist-btn');
      const wishlistModal = document.getElementById('wishlist-modal');
      const wishlistClose = document.getElementById('wishlist-modal-close');

      if (wishlistBtn) {
        wishlistBtn.addEventListener('click', (e) => {
          e.preventDefault();
          renderWishlist();
          wishlistModal.classList.remove('hidden');
          wishlistModal.classList.add('flex');
        });
      }

      if (wishlistClose) {
        wishlistClose.addEventListener('click', () => {
          wishlistModal.classList.add('hidden');
          wishlistModal.classList.remove('flex');
        });
      }

      wishlistModal?.addEventListener('click', (e) => {
        if (e.target === wishlistModal) {
          wishlistModal.classList.add('hidden');
          wishlistModal.classList.remove('flex');
        }
      });

      // Add wishlist buttons to all products dynamically
      function initializeWishlistButtons() {
        const productCards = document.querySelectorAll('a[href*="product_detail.html"]');
        if (!productCards || productCards.length === 0) return; // Guard clause

        productCards.forEach(card => {
          // Skip if already has wishlist button or has no-wishlist class
          if (card.querySelector('.wishlist-btn') || card.classList.contains('no-wishlist')) return;

          // Make card relative
          card.style.position = 'relative';

          // Create wishlist button
          const wishlistBtn = document.createElement('button');
          wishlistBtn.className = 'absolute top-3 right-3 z-10 w-10 h-10 bg-white/90 hover:bg-red-500 rounded-full shadow-md transition-all duration-300 flex items-center justify-center wishlist-btn';
          wishlistBtn.innerHTML = '<i class="far fa-heart text-gray-600 hover:text-white transition-colors"></i>';

          // Get product info
          const productId = card.href.match(/id=(\d+)/)?.[1] || Math.random();
          const productName = card.querySelector('h4')?.textContent || 'Sản phẩm';
          const productPrice = card.querySelector('.text-red-600')?.textContent || '';
          const productImage = card.querySelector('img')?.src || '';

          wishlistBtn.addEventListener('click', (e) => {
            e.preventDefault();
            e.stopPropagation();
            addToWishlist(productId, productName, productPrice, productImage);

            // Toggle icon
            const icon = wishlistBtn.querySelector('i');
            const isInWishlist = wishlist.find(item => item.id === productId);
            if (isInWishlist) {
              icon.classList.remove('far');
              icon.classList.add('fas');
              wishlistBtn.classList.add('bg-red-500');
            } else {
              icon.classList.remove('fas');
              icon.classList.add('far');
              wishlistBtn.classList.remove('bg-red-500');
            }
          });

          // Check if already in wishlist
          const isInWishlist = wishlist.find(item => item.id === productId);
          if (isInWishlist) {
            wishlistBtn.querySelector('i').classList.remove('far');
            wishlistBtn.querySelector('i').classList.add('fas');
            wishlistBtn.classList.add('bg-red-500');
          }

          card.appendChild(wishlistBtn);
        });

        updateWishlistCount();
      }

      // Initialize when DOM is ready
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initializeWishlistButtons);
      } else {
        // DOM already loaded
        initializeWishlistButtons();
      }

      // Make removeFromWishlist global
      window.removeFromWishlist = removeFromWishlist;
    })();
  </script>

  <style>
    @keyframes slideIn {
      from {
        transform: translateX(100%);
        opacity: 0;
      }

      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    .animate-slideIn {
      animation: slideIn 0.3s ease-out;
    }
  </style>

  <script>
    // Ensure fixed promo button and chatbot don't overlap on small screens.
    // Only adjust when the promo button is actually visible (md:hidden means hidden on md+).
    function adjustFixedStacking() {
      const promo = document.getElementById('mobile-promo-btn');
      const chatbot = document.getElementById('chatbot-toggle');
      if (!promo || !chatbot) return;

      const promoStyle = window.getComputedStyle(promo);
      const promoVisible = promoStyle.display !== 'none' && promoStyle.visibility !== 'hidden' && promo.offsetParent !== null;

      if (window.innerWidth <= 768 && promoVisible) {
        // Compute a safe bottom offset: promo height + a small gap.
        const promoRect = promo.getBoundingClientRect();
        const gap = 16; // px
        const base = promoRect.height || 48;
        chatbot.style.bottom = (base + gap + 16) + 'px';
      } else {
        // Reset to CSS default (the class bottom-6)
        chatbot.style.bottom = '';
      }
    }
    window.addEventListener('resize', adjustFixedStacking);
    document.addEventListener('DOMContentLoaded', adjustFixedStacking);
  </script>

  <!-- Image Fallback Handler -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // Xử lý lỗi ảnh - thay thế bằng placeholder khi ảnh không tải được
      const images = document.querySelectorAll('img[loading="lazy"], img[src*="unsplash.com"]');

      images.forEach(img => {
        img.addEventListener('error', function () {
          // Tạo placeholder SVG với màu sắc phù hợp
          const placeholder = `data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='600' viewBox='0 0 600 600'%3E%3Crect fill='%23f3f4f6' width='600' height='600'/%3E%3Cg fill='%239ca3af'%3E%3Cpath d='M200 250h200v100h-200z'/%3E%3Ccircle cx='250' cy='280' r='15'/%3E%3Cpath d='M200 350l50-40 40 30 60-50 50 40v60h-200z'/%3E%3C/g%3E%3Ctext x='300' y='450' font-family='Arial' font-size='20' fill='%236b7280' text-anchor='middle'%3EH%C3%ACnh %E1%BA%A3nh kh%C3%B4ng kh%E1%BA%A3 d%E1%BB%A5ng%3C/text%3E%3C/svg%3E`;

          this.src = placeholder;
          this.classList.add('opacity-50');

          // Thử tải lại sau 2 giây
          setTimeout(() => {
            const originalSrc = this.getAttribute('data-original-src') || this.src;
            if (originalSrc !== placeholder) {
              this.setAttribute('data-original-src', originalSrc);
            }
          }, 2000);
        });

        // Thêm loading animation
        img.addEventListener('load', function () {
          this.classList.add('animate-fadeIn');
        });
      });

      // Lazy loading cho ảnh thương hiệu
      const brandImages = document.querySelectorAll('.brand-card img, .deal-card img, .product-card img');

      const imageObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const img = entry.target;
            const src = img.getAttribute('data-src') || img.src;

            if (src && src !== img.src) {
              img.src = src;
            }

            observer.unobserve(img);
          }
        });
      }, {
        rootMargin: '50px'
      });

      brandImages.forEach(img => imageObserver.observe(img));
    });

    // Preload critical images
    const criticalImages = [
      'https://images.unsplash.com/photo-1696446702883-74b4a7b3be1d?w=400&h=400&fit=crop',
      'https://images.unsplash.com/photo-1610945415295-d9bbf067e59c?w=400&h=400&fit=crop',
      'https://images.unsplash.com/photo-1574944985070-8f3ebc6b79d2?w=400&h=400&fit=crop'
    ];

    criticalImages.forEach(src => {
      const link = document.createElement('link');
      link.rel = 'preload';
      link.as = 'image';
      link.href = src;
      document.head.appendChild(link);
    });
  </script>

  <!-- Mobile Menu & Touch Gestures -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // Mobile Menu Toggle
      const mobileMenuBtn = document.getElementById('mobile-menu-btn');
      const mobileMenu = document.querySelector('.mobile-menu');
      const mobileMenuClose = document.querySelector('.mobile-menu-close');

      if (mobileMenuBtn) {
        mobileMenuBtn.addEventListener('click', function () {
          mobileMenu.classList.remove('hidden');
          document.body.style.overflow = 'hidden'; // Prevent background scroll
        });
      }

      if (mobileMenuClose) {
        mobileMenuClose.addEventListener('click', closeMobileMenu);
      }

      // Close when clicking overlay
      if (mobileMenu) {
        mobileMenu.addEventListener('click', function (e) {
          if (e.target === mobileMenu) {
            closeMobileMenu();
          }
        });
      }

      function closeMobileMenu() {
        if (mobileMenu) {
          mobileMenu.classList.add('hidden');
          document.body.style.overflow = ''; // Restore scroll
        }
      }

      // Close menu on navigation
      if (mobileMenu) {
        const mobileNavLinks = mobileMenu.querySelectorAll('a');
        mobileNavLinks.forEach(link => {
          link.addEventListener('click', closeMobileMenu);
        });
      }

      // Touch Swipe for Banner Carousel
      const bannerCarouselContainer = document.querySelector('.banner-carousel-container');
      if (bannerCarouselContainer) {
        let touchStartX = 0;
        let touchEndX = 0;
        let touchStartTime = 0;

        bannerCarouselContainer.addEventListener('touchstart', function (e) {
          touchStartX = e.changedTouches[0].screenX;
          touchStartTime = Date.now();
        }, { passive: true });

        bannerCarouselContainer.addEventListener('touchend', function (e) {
          touchEndX = e.changedTouches[0].screenX;
          const touchDuration = Date.now() - touchStartTime;
          const swipeDistance = touchStartX - touchEndX;

          // Swipe detection: at least 50px and within 300ms
          if (Math.abs(swipeDistance) > 50 && touchDuration < 300) {
            if (swipeDistance > 0) {
              // Swipe left - next slide
              document.getElementById('nextBannerBtn').click();
            } else {
              // Swipe right - previous slide
              document.getElementById('prevBannerBtn').click();
            }
          }
        }, { passive: true });
      }

      // Responsive font size adjustment
      function adjustFontSize() {
        const viewportWidth = window.innerWidth;
        const root = document.documentElement;

        if (viewportWidth < 375) {
          root.style.fontSize = '14px';
        } else if (viewportWidth < 768) {
          root.style.fontSize = '15px';
        } else {
          root.style.fontSize = '16px';
        }
      }

      adjustFontSize();
      window.addEventListener('resize', adjustFontSize);

      // Detect device type
      const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
      const isTablet = /iPad|Android/i.test(navigator.userAgent) && window.innerWidth >= 768;

      if (isMobile) {
        document.body.classList.add('is-mobile');
      }
      if (isTablet) {
        document.body.classList.add('is-tablet');
      }

      // Orientation change handler
      window.addEventListener('orientationchange', function () {
        setTimeout(() => {
          adjustFontSize();
          // Refresh layout after orientation change
          window.dispatchEvent(new Event('resize'));
        }, 100);
      });

      // Prevent double-tap zoom on buttons
      let lastTouchEnd = 0;
      document.addEventListener('touchend', function (e) {
        const now = Date.now();
        if (now - lastTouchEnd <= 300) {
          e.preventDefault();
        }
        lastTouchEnd = now;
      }, { passive: false });

      // Safe area insets for notch devices
      if (CSS.supports('padding-top: env(safe-area-inset-top)')) {
        document.body.style.paddingTop = 'env(safe-area-inset-top)';
        document.body.style.paddingBottom = 'env(safe-area-inset-bottom)';
      }
    });
  </script>

  <!-- Load Header Component -->
  <script>
    (function () {
      function loadHeader() {
        const headerPlaceholder = document.getElementById('header-placeholder');
        if (!headerPlaceholder) {
          console.warn('Header placeholder not found');
          return;
        }

        fetch('components/header.html')
          .then(response => response.text())
          .then(html => {
            headerPlaceholder.innerHTML = html;
            // Load header JavaScript after HTML is loaded
            const script = document.createElement('script');
            script.src = 'components/header.js';
            document.body.appendChild(script);
          })
          .catch(error => console.error('Error loading header:', error));
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', loadHeader);
      } else {
        loadHeader();
      }
    })();
  </script>

  <!-- Footer Component -->
  <div id="footer-placeholder"></div>

  <!-- Load Footer Component -->
  <script>
    (function () {
      function loadFooter() {
        const footerPlaceholder = document.getElementById('footer-placeholder');
        if (!footerPlaceholder) {
          console.warn('Footer placeholder not found');
          return;
        }

        fetch('components/footer.html')
          .then(response => response.text())
          .then(html => {
            footerPlaceholder.innerHTML = html;
          })
          .catch(error => console.error('Error loading footer:', error));
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', loadFooter);
      } else {
        loadFooter();
      }
    })();
  </script>
  <!-- Scroll Reveal: thêm hiệu ứng reveal-on-scroll cho các section -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const observerOptions = {
        root: null,
        rootMargin: '0px',
        threshold: 0.15
      };

      const observer = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
            observer.unobserve(entry.target);
          }
        });
      }, observerOptions);

      const revealElements = document.querySelectorAll('.reveal-on-scroll');
      revealElements.forEach(el => observer.observe(el));
    });
  </script>

  <!-- Product Loading Script -->
  <script>
    // API URL
    const API_URL = 'http://localhost:3000/api';

    // Format price to Vietnamese currency
    function formatPrice(price) {
      return price.toLocaleString('vi-VN') + '₫';
    }

    // Fetch products from API
    async function fetchProducts() {
      try {
        const response = await fetch(`${API_URL}/products`);
        if (!response.ok) throw new Error('Lỗi kết nối API');
        const data = await response.json();
        return data;
      } catch (error) {
        console.error('Lỗi lấy sản phẩm:', error);
        return [];
      }
    }

    // Placeholder image SVG data URI
    const PLACEHOLDER_IMG = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjNmNGY2Ii8+PGcgZmlsbD0iIzljYTNhZiI+PHBhdGggZD0iTTEyMCAxNTBoMTYwdjgwSDE0MHoiLz48Y2lyY2xlIGN4PSIxNjAiIGN5PSIxNzUiIHI9IjEyIi8+PHBhdGggZD0iTTEyMCAyMzBsNDAtMzIgMzIgMjQgNDgtNDAgNDAgMzJ2NDhIMTIweiIvPjwvZz48dGV4dCB4PSI1MCUiIHk9IjMzMCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE2IiBmaWxsPSIjNmI3MjgwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5ObyBJbWFnZTwvdGV4dD48L3N2Zz4=';

    // Render product card
    function renderProductCard(product) {
      const discount = product.oldPrice ? Math.round(((product.oldPrice - product.price) / product.oldPrice) * 100) : 0;
      const discountBadge = discount > 0 ? `<span class="absolute top-0 right-0 bg-red-600 text-white text-[10px] font-bold px-2 py-1 rounded-bl-lg z-10">-${discount}%</span>` : '';
      const productImage = product.image || PLACEHOLDER_IMG;
      const productName = product.name.replace(/'/g, "\\'");

      return `
        <div class="product-card-hover rounded-xl p-4 bg-white relative group">
          <a href="product-detail.html?id=${product.id}" class="block">
            <div class="relative h-60 mb-2 overflow-hidden p-0 flex items-center justify-center">
              ${discountBadge}
              <img src="${productImage}" alt="${product.name}"
                class="card-image rounded-md w-full h-full object-contain transition-transform group-hover:scale-105"
                onerror="this.src='${PLACEHOLDER_IMG}'">
            </div>
            <div class="mt-auto flex flex-col gap-2">
              <h3 class="font-bold text-sm text-gray-800 line-clamp-2 min-h-[40px]">${product.name}</h3>
              <div class="price-block flex items-end gap-3">
                <div class="text-lg font-black text-red-600 leading-none">${formatPrice(product.price)}</div>
                ${product.oldPrice ? `<div class="text-xs text-gray-400 line-through mb-1">${formatPrice(product.oldPrice)}</div>` : ''}
              </div>
              <div class="flex items-center justify-between">
                <div class="flex items-center gap-1 text-yellow-400 text-xs">
                  ${'<i class="fas fa-star"></i>'.repeat(Math.floor(product.rating || 4))}
                  ${(product.rating || 4) % 1 !== 0 ? '<i class="fas fa-star-half-alt"></i>' : ''}
                </div>
                <div class="text-xs text-gray-500">(${product.reviews || 0})</div>
              </div>
            </div>
          </a>
          <!-- Nút Mua ngay và Thêm vào giỏ -->
          <div class="flex gap-2 mt-3">
            <a href="product-detail.html?id=${product.id}" 
               class="flex-1 bg-red-600 hover:bg-red-700 text-white text-center text-sm font-semibold py-2 px-3 rounded-lg transition-all flex items-center justify-center gap-1">
              <i class="fas fa-bolt"></i> Mua ngay
            </a>
            <button onclick="event.preventDefault(); event.stopPropagation(); addToCartQuick(${product.id}, '${productName}', ${product.price}, '${productImage}')" 
                    class="bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm font-semibold py-2 px-3 rounded-lg transition-all flex items-center justify-center"
                    title="Thêm vào giỏ">
              <i class="fas fa-cart-plus"></i>
            </button>
          </div>
        </div>
      `;
    }

    // Load featured products
    async function loadFeaturedProducts() {
      const products = await fetchProducts();
      if (products.length === 0) return;

      // Load deals section (first 5 products)
      const dealsContainer = document.querySelector('.product-grid-responsive');
      if (dealsContainer) {
        dealsContainer.innerHTML = products.slice(0, 5).map(renderProductCard).join('');
      }

      // Load chính hãng section (next 5 products)
      const chinhHangContainer = document.querySelectorAll('.product-grid-responsive')[1];
      if (chinhHangContainer) {
        chinhHangContainer.innerHTML = products.slice(5, 10).map(renderProductCard).join('');
      }
    }

    // Load products when page loads
    loadFeaturedProducts();
  </script>

  <!-- Main JS - Page Loader -->
  <script src="main.js"></script>

  <!-- AI Chatbot -->
  <link rel="stylesheet" href="components/ai-chatbot.css">
  <script src="components/ai-chatbot.js"></script>
  <script src="components/floating-share.js"></script>
</body>

</html>

