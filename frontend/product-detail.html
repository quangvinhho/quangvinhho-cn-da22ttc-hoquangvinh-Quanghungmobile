<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Chi tiết sản phẩm - QuangHưng Mobile</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="responsive.css">
    <style>
      :root {
        --red-main: #e41e26;
        --red-dark: #c5111a;
      }
    </style>
  </head>
  <body class="bg-gray-50">
    <script src="components/load-header.js"></script>

    <!-- Breadcrumb -->
    <div class="bg-white border-b">
      <div class="container mx-auto px-4 py-3">
        <div class="flex items-center space-x-2 text-sm">
          <a href="index.html" class="text-gray-600 hover:text-red-600">Trang chủ</a>
          <i class="fas fa-chevron-right text-gray-400 text-xs"></i>
          <a href="products.html" class="text-gray-600 hover:text-red-600">Sản phẩm</a>
          <i class="fas fa-chevron-right text-gray-400 text-xs"></i>
          <span id="breadcrumbProduct" class="text-red-600">Đang tải...</span>
        </div>
      </div>
    </div>

    <div class="container mx-auto px-4 py-8">
      <div id="productContainer" class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
        <!-- Product content will be dynamically loaded here -->
        <div class="col-span-2 text-center py-20">
          <i class="fas fa-spinner fa-spin text-4xl text-red-600 mb-4"></i>
          <p class="text-gray-600">Đang tải thông tin sản phẩm...</p>
        </div>
      </div>
        <!-- Product Images -->
        <div>
          <div class="bg-white rounded-lg shadow-md p-4 mb-4">
            <img id="mainImage" 
                 src="https://images.pexels.com/photos/404280/pexels-photo-404280.jpeg?auto=compress&cs=tinysrgb&w=800" 
                 alt="iPhone 15 Pro Max" 
                 class="w-full h-96 object-cover rounded-lg" />
          </div>
          <div class="grid grid-cols-4 gap-4">
            <img src="https://images.pexels.com/photos/404280/pexels-photo-404280.jpeg?auto=compress&cs=tinysrgb&w=200" 
                 alt="Image 1" 
                 class="w-full h-24 object-cover rounded-lg cursor-pointer border-2 border-blue-600 hover:opacity-75 transition"
                 onclick="changeImage(this.src)" />
            <img src="https://images.pexels.com/photos/788946/pexels-photo-788946.jpeg?auto=compress&cs=tinysrgb&w=200" 
                 alt="Image 2" 
                 class="w-full h-24 object-cover rounded-lg cursor-pointer border-2 border-gray-200 hover:border-blue-600 hover:opacity-75 transition"
                 onclick="changeImage(this.src)" />
            <img src="https://images.pexels.com/photos/699122/pexels-photo-699122.jpeg?auto=compress&cs=tinysrgb&w=200" 
                 alt="Image 3" 
                 class="w-full h-24 object-cover rounded-lg cursor-pointer border-2 border-gray-200 hover:border-blue-600 hover:opacity-75 transition"
                 onclick="changeImage(this.src)" />
            <img src="https://images.pexels.com/photos/1092644/pexels-photo-1092644.jpeg?auto=compress&cs=tinysrgb&w=200" 
                 alt="Image 4" 
                 class="w-full h-24 object-cover rounded-lg cursor-pointer border-2 border-gray-200 hover:border-blue-600 hover:opacity-75 transition"
                 onclick="changeImage(this.src)" />
          </div>
        </div>

        <!-- Product Info -->
        <div class="bg-white rounded-lg shadow-md p-6">
          <div class="mb-4">
            <span class="bg-red-600 text-white px-3 py-1 rounded-full text-sm font-semibold">Giảm 15%</span>
            <span class="bg-green-500 text-white px-3 py-1 rounded-full text-sm font-semibold ml-2">Còn hàng</span>
          </div>
          
          <h1 class="text-3xl font-bold mb-3">iPhone 15 Pro Max</h1>
          
          <div class="flex items-center mb-4">
            <div class="text-yellow-400 text-lg">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star-half-alt"></i>
            </div>
            <span class="text-gray-600 ml-2">(4.5/5 - 128 đánh giá)</span>
            <span class="text-gray-400 mx-2">|</span>
            <span class="text-gray-600">Đã bán: 245</span>
          </div>

          <div class="border-t border-b py-4 mb-6">
            <div class="flex items-baseline mb-2">
              <span class="text-4xl font-bold text-red-600">29.990.000đ</span>
              <span class="text-xl text-gray-500 line-through ml-3">34.990.000đ</span>
            </div>
            <p class="text-sm text-gray-600">Tiết kiệm: 5.000.000đ</p>
          </div>

          <!-- Color Selection -->
          <div class="mb-6">
            <h3 class="font-semibold mb-3">Màu sắc:</h3>
            <div class="flex space-x-3">
              <button class="w-12 h-12 rounded-full bg-gray-800 border-2 border-blue-600 hover:scale-110 transition"></button>
              <button class="w-12 h-12 rounded-full bg-blue-900 border-2 border-gray-200 hover:border-blue-600 hover:scale-110 transition"></button>
              <button class="w-12 h-12 rounded-full bg-gray-300 border-2 border-gray-200 hover:border-blue-600 hover:scale-110 transition"></button>
              <button class="w-12 h-12 rounded-full bg-yellow-100 border-2 border-gray-200 hover:border-blue-600 hover:scale-110 transition"></button>
            </div>
          </div>

          <!-- Storage Selection -->
          <div class="mb-6">
            <h3 class="font-semibold mb-3">Dung lượng:</h3>
            <div class="grid grid-cols-4 gap-3">
              <button class="border-2 border-gray-200 rounded-lg py-2 px-4 hover:border-blue-600 transition">128GB</button>
              <button class="border-2 border-blue-600 bg-blue-50 rounded-lg py-2 px-4 font-semibold transition">256GB</button>
              <button class="border-2 border-gray-200 rounded-lg py-2 px-4 hover:border-blue-600 transition">512GB</button>
              <button class="border-2 border-gray-200 rounded-lg py-2 px-4 hover:border-blue-600 transition">1TB</button>
            </div>
          </div>

          <!-- Quantity -->
          <div class="mb-6">
            <h3 class="font-semibold mb-3">Số lượng:</h3>
            <div class="flex items-center space-x-4">
              <div class="flex items-center border-2 rounded-lg">
                <button class="px-4 py-2 hover:bg-gray-100 transition" onclick="decreaseQuantity()">
                  <i class="fas fa-minus"></i>
                </button>
                <input type="number" id="quantity" value="1" min="1" class="w-16 text-center border-x-2 py-2 outline-none" />
                <button class="px-4 py-2 hover:bg-gray-100 transition" onclick="increaseQuantity()">
                  <i class="fas fa-plus"></i>
                </button>
              </div>
              <span class="text-gray-600">Còn 45 sản phẩm</span>
            </div>
          </div>

          <!-- Action Buttons -->
          <div class="grid grid-cols-2 gap-4 mb-6">
            <button class="bg-red-600 text-white py-3 rounded-lg font-semibold hover:bg-red-700 transition flex items-center justify-center">
              <i class="fas fa-shopping-cart mr-2"></i>
              Thêm vào giỏ
            </button>
            <button class="bg-red-600 text-white py-3 rounded-lg font-semibold hover:bg-red-700 transition flex items-center justify-center">
              <i class="fas fa-bolt mr-2"></i>
              Mua ngay
            </button>
          </div>

          <button class="w-full border-2 border-gray-300 text-gray-700 py-3 rounded-lg font-semibold hover:border-blue-600 hover:text-red-600 transition flex items-center justify-center">
            <i class="far fa-heart mr-2"></i>
            Thêm vào yêu thích
          </button>

          <!-- Product Features -->
          <div class="mt-6 border-t pt-6">
            <h3 class="font-semibold mb-3">Đặc điểm nổi bật:</h3>
            <ul class="space-y-2 text-gray-700">
              <li class="flex items-start">
                <i class="fas fa-check text-green-500 mt-1 mr-2"></i>
                <span>Chip A17 Pro mạnh mẽ nhất từ trước đến nay</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-check text-green-500 mt-1 mr-2"></i>
                <span>Camera chính 48MP với zoom quang học 5x</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-check text-green-500 mt-1 mr-2"></i>
                <span>Khung Titanium cao cấp, nhẹ hơn 10%</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-check text-green-500 mt-1 mr-2"></i>
                <span>Màn hình Super Retina XDR 6.7 inch</span>
              </li>
              <li class="flex items-start">
                <i class="fas fa-check text-green-500 mt-1 mr-2"></i>
                <span>Hỗ trợ sạc nhanh USB-C và Action Button</span>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Product Details Tabs -->
      <div class="bg-white rounded-lg shadow-md mb-8">
        <div class="border-b">
          <div class="flex space-x-8 px-6">
            <button class="py-4 border-b-2 border-blue-600 text-red-600 font-semibold" onclick="showTab('description')">
              Mô tả sản phẩm
            </button>
            <button class="py-4 border-b-2 border-transparent text-gray-600 hover:text-red-600 font-semibold" onclick="showTab('specs')">
              Thông số kỹ thuật
            </button>
            <button class="py-4 border-b-2 border-transparent text-gray-600 hover:text-red-600 font-semibold" onclick="showTab('reviews')">
              Đánh giá (128)
            </button>
          </div>
        </div>

        <div class="p-6">
          <!-- Description Tab -->
          <div id="description" class="tab-content">
            <h2 class="text-2xl font-bold mb-4">Mô tả sản phẩm</h2>
            <div class="prose max-w-none text-gray-700 leading-relaxed">
              <p class="mb-4">
                iPhone 15 Pro Max là chiếc điện thoại cao cấp nhất trong dòng iPhone 15 series, được Apple giới thiệu với nhiều cải tiến đột phá về thiết kế, hiệu năng và camera.
              </p>
              <h3 class="text-xl font-semibold mb-2 mt-6">Thiết kế Titanium cao cấp</h3>
              <p class="mb-4">
                Lần đầu tiên Apple sử dụng khung Titanium hàng không vũ trụ, giúp iPhone 15 Pro Max nhẹ hơn 10% so với thế hệ trước nhưng vẫn đảm bảo độ bền vượt trội.
              </p>
              <h3 class="text-xl font-semibold mb-2 mt-6">Chip A17 Pro mạnh mẽ</h3>
              <p class="mb-4">
                Được sản xuất trên quy trình 3nm tiên tiến nhất, chip A17 Pro mang lại hiệu năng vượt trội với GPU 6 nhân, hỗ trợ ray tracing và tối ưu cho gaming.
              </p>
              <h3 class="text-xl font-semibold mb-2 mt-6">Camera chuyên nghiệp</h3>
              <p class="mb-4">
                Hệ thống camera 48MP Pro với zoom quang học 5x, chế độ chụp đêm cải tiến và khả năng quay video ProRes 4K 60fps.
              </p>
            </div>
          </div>

          <!-- Specifications Tab -->
          <div id="specs" class="tab-content hidden">
            <h2 class="text-2xl font-bold mb-4">Thông số kỹ thuật</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <h3 class="font-semibold mb-3 text-lg">Màn hình</h3>
                <table class="w-full text-sm">
                  <tr class="border-b">
                    <td class="py-2 text-gray-600">Công nghệ màn hình</td>
                    <td class="py-2 font-medium">Super Retina XDR OLED</td>
                  </tr>
                  <tr class="border-b">
                    <td class="py-2 text-gray-600">Độ phân giải</td>
                    <td class="py-2 font-medium">2796 x 1290 pixels</td>
                  </tr>
                  <tr class="border-b">
                    <td class="py-2 text-gray-600">Kích thước</td>
                    <td class="py-2 font-medium">6.7 inch</td>
                  </tr>
                  <tr class="border-b">
                    <td class="py-2 text-gray-600">Tần số quét</td>
                    <td class="py-2 font-medium">120Hz ProMotion</td>
                  </tr>
                </table>
              </div>

              <div>
                <h3 class="font-semibold mb-3 text-lg">Camera</h3>
                <table class="w-full text-sm">
                  <tr class="border-b">
                    <td class="py-2 text-gray-600">Camera sau</td>
                    <td class="py-2 font-medium">48MP + 12MP + 12MP</td>
                  </tr>
                  <tr class="border-b">
                    <td class="py-2 text-gray-600">Zoom quang học</td>
                    <td class="py-2 font-medium">5x</td>
                  </tr>
                  <tr class="border-b">
                    <td class="py-2 text-gray-600">Camera trước</td>
                    <td class="py-2 font-medium">12MP TrueDepth</td>
                  </tr>
                  <tr class="border-b">
                    <td class="py-2 text-gray-600">Quay video</td>
                    <td class="py-2 font-medium">4K 60fps ProRes</td>
                  </tr>
                </table>
              </div>

              <div>
                <h3 class="font-semibold mb-3 text-lg">Hiệu năng</h3>
                <table class="w-full text-sm">
                  <tr class="border-b">
                    <td class="py-2 text-gray-600">Chip xử lý</td>
                    <td class="py-2 font-medium">Apple A17 Pro 3nm</td>
                  </tr>
                  <tr class="border-b">
                    <td class="py-2 text-gray-600">RAM</td>
                    <td class="py-2 font-medium">8GB</td>
                  </tr>
                  <tr class="border-b">
                    <td class="py-2 text-gray-600">Bộ nhớ trong</td>
                    <td class="py-2 font-medium">256GB / 512GB / 1TB</td>
                  </tr>
                </table>
              </div>

              <div>
                <h3 class="font-semibold mb-3 text-lg">Pin & Sạc</h3>
                <table class="w-full text-sm">
                  <tr class="border-b">
                    <td class="py-2 text-gray-600">Dung lượng pin</td>
                    <td class="py-2 font-medium">4,441 mAh</td>
                  </tr>
                  <tr class="border-b">
                    <td class="py-2 text-gray-600">Sạc nhanh</td>
                    <td class="py-2 font-medium">27W USB-C</td>
                  </tr>
                  <tr class="border-b">
                    <td class="py-2 text-gray-600">Sạc không dây</td>
                    <td class="py-2 font-medium">MagSafe 15W</td>
                  </tr>
                </table>
              </div>
            </div>
          </div>

          <!-- Reviews Tab -->
          <div id="reviews" class="tab-content hidden">
            <h2 class="text-2xl font-bold mb-4">Đánh giá từ khách hàng</h2>
            
            <!-- Rating Summary -->
            <div class="bg-gray-50 rounded-lg p-6 mb-6">
              <div class="flex items-center space-x-8">
                <div class="text-center">
                  <div class="text-5xl font-bold text-red-600">4.5</div>
                  <div class="text-yellow-400 text-xl my-2">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star-half-alt"></i>
                  </div>
                  <div class="text-gray-600">128 đánh giá</div>
                </div>
                <div class="flex-1">
                  <div class="flex items-center mb-2">
                    <span class="w-12">5 sao</span>
                    <div class="flex-1 bg-gray-200 rounded-full h-2 mx-3">
                      <div class="bg-yellow-400 h-2 rounded-full" style="width: 75%"></div>
                    </div>
                    <span class="w-12 text-right">96</span>
                  </div>
                  <div class="flex items-center mb-2">
                    <span class="w-12">4 sao</span>
                    <div class="flex-1 bg-gray-200 rounded-full h-2 mx-3">
                      <div class="bg-yellow-400 h-2 rounded-full" style="width: 15%"></div>
                    </div>
                    <span class="w-12 text-right">19</span>
                  </div>
                  <div class="flex items-center mb-2">
                    <span class="w-12">3 sao</span>
                    <div class="flex-1 bg-gray-200 rounded-full h-2 mx-3">
                      <div class="bg-yellow-400 h-2 rounded-full" style="width: 7%"></div>
                    </div>
                    <span class="w-12 text-right">9</span>
                  </div>
                  <div class="flex items-center mb-2">
                    <span class="w-12">2 sao</span>
                    <div class="flex-1 bg-gray-200 rounded-full h-2 mx-3">
                      <div class="bg-yellow-400 h-2 rounded-full" style="width: 2%"></div>
                    </div>
                    <span class="w-12 text-right">3</span>
                  </div>
                  <div class="flex items-center">
                    <span class="w-12">1 sao</span>
                    <div class="flex-1 bg-gray-200 rounded-full h-2 mx-3">
                      <div class="bg-yellow-400 h-2 rounded-full" style="width: 1%"></div>
                    </div>
                    <span class="w-12 text-right">1</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Reviews List -->
            <div class="space-y-6">
              <div class="border-b pb-6">
                <div class="flex items-start justify-between mb-3">
                  <div>
                    <div class="font-semibold">Nguyễn Văn A</div>
                    <div class="text-yellow-400 text-sm">
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                    </div>
                  </div>
                  <span class="text-gray-500 text-sm">2 ngày trước</span>
                </div>
                <p class="text-gray-700 mb-2">
                  Máy rất đẹp và mượt mà. Camera chụp ảnh đẹp, pin trâu. Rất hài lòng với sản phẩm này!
                </p>
                <div class="flex items-center text-sm text-gray-500">
                  <button class="mr-4 hover:text-red-600"><i class="far fa-thumbs-up mr-1"></i> Hữu ích (12)</button>
                  <button class="hover:text-red-600"><i class="far fa-comment mr-1"></i> Trả lời</button>
                </div>
              </div>

              <div class="border-b pb-6">
                <div class="flex items-start justify-between mb-3">
                  <div>
                    <div class="font-semibold">Trần Thị B</div>
                    <div class="text-yellow-400 text-sm">
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="far fa-star"></i>
                    </div>
                  </div>
                  <span class="text-gray-500 text-sm">5 ngày trước</span>
                </div>
                <p class="text-gray-700 mb-2">
                  Sản phẩm tốt nhưng giá hơi cao. Camera thì không có gì để chê. Giao hàng nhanh.
                </p>
                <div class="flex items-center text-sm text-gray-500">
                  <button class="mr-4 hover:text-red-600"><i class="far fa-thumbs-up mr-1"></i> Hữu ích (8)</button>
                  <button class="hover:text-red-600"><i class="far fa-comment mr-1"></i> Trả lời</button>
                </div>
              </div>

              <div class="border-b pb-6">
                <div class="flex items-start justify-between mb-3">
                  <div>
                    <div class="font-semibold">Lê Văn C</div>
                    <div class="text-yellow-400 text-sm">
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                    </div>
                  </div>
                  <span class="text-gray-500 text-sm">1 tuần trước</span>
                </div>
                <p class="text-gray-700 mb-2">
                  Chip A17 Pro thật sự mạnh mẽ, chơi game mượt mà. Thiết kế titanium rất sang trọng. Đáng tiền!
                </p>
                <div class="flex items-center text-sm text-gray-500">
                  <button class="mr-4 hover:text-red-600"><i class="far fa-thumbs-up mr-1"></i> Hữu ích (15)</button>
                  <button class="hover:text-red-600"><i class="far fa-comment mr-1"></i> Trả lời</button>
                </div>
              </div>
            </div>

            <div class="text-center mt-6">
              <button class="border-2 border-blue-600 text-red-600 px-6 py-2 rounded-lg hover:bg-red-600 hover:text-white transition">
                Xem thêm đánh giá
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Related Products -->
      <div class="mb-8">
        <div class="flex items-center justify-between mb-6">
          <div>
            <h2 class="text-2xl md:text-3xl font-bold text-gray-800">Sản phẩm liên quan</h2>
            <p class="text-gray-600 text-sm mt-1">Khám phá thêm những sản phẩm tương tự</p>
          </div>
          <a href="products.html" class="text-red-600 hover:text-red-700 font-semibold text-sm flex items-center gap-2 group">
            Xem tất cả
            <i class="fas fa-arrow-right group-hover:translate-x-1 transition-transform"></i>
          </a>
        </div>
        <div id="relatedProducts" class="grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6">
          <!-- Dynamic related products will be rendered here -->
        </div>
      </div>
    </div>

    <div id="footer"></div>
    <script src="main.js"></script>

    <script>
      // Change main image
      function changeImage(src) {
        document.getElementById('mainImage').src = src.replace('w=200', 'w=800');
        
        // Update border for selected thumbnail
        document.querySelectorAll('img[onclick]').forEach(img => {
          img.classList.remove('border-blue-600');
          img.classList.add('border-gray-200');
        });
        event.target.classList.remove('border-gray-200');
        event.target.classList.add('border-blue-600');
      }

      // Quantity controls
      function increaseQuantity() {
        const input = document.getElementById('quantity');
        input.value = parseInt(input.value) + 1;
      }

      function decreaseQuantity() {
        const input = document.getElementById('quantity');
        if (parseInt(input.value) > 1) {
          input.value = parseInt(input.value) - 1;
        }
      }

      // Tab switching
      function showTab(tabName) {
        // Hide all tabs
        document.querySelectorAll('.tab-content').forEach(tab => {
          tab.classList.add('hidden');
        });
        
        // Remove active state from all buttons
        document.querySelectorAll('button[onclick^="showTab"]').forEach(btn => {
          btn.classList.remove('border-blue-600', 'text-red-600');
          btn.classList.add('border-transparent', 'text-gray-600');
        });
        
        // Show selected tab
        document.getElementById(tabName).classList.remove('hidden');
        
        // Add active state to clicked button
        event.target.classList.remove('border-transparent', 'text-gray-600');
        event.target.classList.add('border-blue-600', 'text-red-600');
      }

      // ===== RELATED PRODUCTS =====
      // Products data (same as in products.html)
      const PRODUCTS = [
        {id:1,name:'Samsung Galaxy A06 5G 4GB 128GB',brand:'samsung',category:'dienthoai',price:3420000,oldPrice:3920000,discount:13,image:'https://images.unsplash.com/photo-1610945415295-d9bbf067e59c?w=400&h=400&fit=crop'},
        {id:2,name:'Samsung Galaxy A07 4GB 128GB',brand:'samsung',category:'dienthoai',price:3190000,oldPrice:3390000,discount:6,image:'https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?w=400&h=400&fit=crop'},
        {id:3,name:'Samsung Galaxy A16 4GB 128GB',brand:'samsung',category:'dienthoai',price:3700000,oldPrice:5000000,discount:26,image:'https://images.unsplash.com/photo-1585060544812-6b45742d762f?w=400&h=400&fit=crop'},
        {id:4,name:'OPPO A5i 4GB 64GB',brand:'oppo',category:'dienthoai',price:3290000,image:'https://images.unsplash.com/photo-1598327105666-5b89351aff97?w=400&h=400&fit=crop'},
        {id:5,name:'iPhone 15 Pro Max 256GB',brand:'iphone',category:'dienthoai',price:28990000,oldPrice:34990000,discount:17,image:'https://images.unsplash.com/photo-1695048064998-18d5e69328c6?w=400&h=400&fit=crop'},
        {id:6,name:'Xiaomi 14 5G 512GB',brand:'xiaomi',category:'dienthoai',price:18990000,oldPrice:24990000,discount:24,image:'https://images.unsplash.com/photo-1574944985070-8f3ebc6b79d2?w=400&h=400&fit=crop'},
        {id:7,name:'OPPO Reno12 F 5G 8GB 256GB',brand:'oppo',category:'dienthoai',price:8290000,oldPrice:9990000,discount:17,image:'https://images.unsplash.com/photo-1592286927505-ed01dd7d2c8f?w=400&h=400&fit=crop'},
        {id:8,name:'HONOR X7c 8GB 256GB',brand:'honor',category:'dienthoai',price:4790000,oldPrice:5990000,discount:20,image:'https://images.unsplash.com/photo-1581993192008-63e896f4f744?w=400&h=400&fit=crop'},
        {id:9,name:'Samsung Galaxy S24 Ultra 12GB 256GB',brand:'samsung',category:'dienthoai',price:29990000,oldPrice:33990000,discount:12,image:'https://images.unsplash.com/photo-1610945264803-c22b62d2a7b4?w=400&h=400&fit=crop'},
        {id:10,name:'iPhone 14 Pro 128GB',brand:'iphone',category:'dienthoai',price:24990000,oldPrice:27990000,discount:11,image:'https://images.unsplash.com/photo-1663499482523-1c0c1bae4ce1?w=400&h=400&fit=crop'},
        {id:11,name:'Xiaomi Redmi Note 13 Pro 8GB 256GB',brand:'xiaomi',category:'dienthoai',price:6990000,oldPrice:8990000,discount:22,image:'https://images.unsplash.com/photo-1580910051074-3eb694886505?w=400&h=400&fit=crop'},
        {id:12,name:'OPPO Find N3 Flip 12GB 256GB',brand:'oppo',category:'dienthoai',price:19990000,oldPrice:22990000,discount:13,image:'https://images.unsplash.com/photo-1583573503122-a3c6ce6ec1e0?w=400&h=400&fit=crop'},
        {id:13,name:'Samsung Galaxy Z Flip5 8GB 256GB',brand:'samsung',category:'dienthoai',price:16990000,oldPrice:20990000,discount:19,image:'https://images.unsplash.com/photo-1591122947157-26bad3a117d2?w=400&h=400&fit=crop'},
        {id:14,name:'iPhone 13 128GB',brand:'iphone',category:'dienthoai',price:17990000,oldPrice:18990000,discount:5,image:'https://images.unsplash.com/photo-1632661674318-1c8e2b54d4f7?w=400&h=400&fit=crop'},
        {id:15,name:'Xiaomi 13T Pro 12GB 512GB',brand:'xiaomi',category:'dienthoai',price:12990000,oldPrice:14990000,discount:13,image:'https://images.unsplash.com/photo-1567581935884-3349723552ca?w=400&h=400&fit=crop'},
        {id:16,name:'OPPO Reno11 F 5G 8GB 256GB',brand:'oppo',category:'dienthoai',price:7990000,oldPrice:8990000,discount:11,image:'https://images.unsplash.com/photo-1565849904461-04a58ad377e0?w=400&h=400&fit=crop'},
        {id:17,name:'HONOR Magic6 Pro 12GB 512GB',brand:'honor',category:'dienthoai',price:24990000,oldPrice:29990000,discount:17,image:'https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?w=400&h=400&fit=crop'},
        {id:18,name:'Samsung Galaxy A55 5G 8GB 128GB',brand:'samsung',category:'dienthoai',price:9490000,oldPrice:10990000,discount:14,image:'https://images.unsplash.com/photo-1610945415295-d9bbf067e59c?w=400&h=400&fit=crop'},
        {id:19,name:'Xiaomi Redmi 13C 6GB 128GB',brand:'xiaomi',category:'dienthoai',price:2990000,oldPrice:3490000,discount:14,image:'https://images.unsplash.com/photo-1598327105666-5b89351aff97?w=400&h=400&fit=crop'},
        {id:20,name:'iPhone 15 128GB',brand:'iphone',category:'dienthoai',price:22990000,oldPrice:24990000,discount:8,image:'https://images.unsplash.com/photo-1678685888221-cda269d3b1db?w=400&h=400&fit=crop'},
        {id:21,name:'OPPO A79 5G 8GB 256GB',brand:'oppo',category:'dienthoai',price:6490000,oldPrice:6990000,discount:7,image:'https://images.unsplash.com/photo-1571066811602-716837d681de?w=400&h=400&fit=crop'},
        {id:22,name:'Samsung Galaxy M34 5G 8GB 128GB',brand:'samsung',category:'dienthoai',price:6290000,oldPrice:6990000,discount:10,image:'https://images.unsplash.com/photo-1585060544812-6b45742d762f?w=400&h=400&fit=crop'},
        {id:23,name:'Xiaomi POCO X6 Pro 12GB 512GB',brand:'xiaomi',category:'dienthoai',price:9990000,oldPrice:10990000,discount:9,image:'https://images.unsplash.com/photo-1592286927505-ed01dd7d2c8f?w=400&h=400&fit=crop'},
        {id:24,name:'HONOR X9b 5G 12GB 256GB',brand:'honor',category:'dienthoai',price:6990000,oldPrice:7990000,discount:13,image:'https://images.unsplash.com/photo-1581993192008-63e896f4f744?w=400&h=400&fit=crop'},
        
        // Phụ kiện
        {id:101,name:'Tai nghe Bluetooth Apple AirPods Pro 2',brand:'apple',category:'phukien',type:'tainghe',price:5990000,oldPrice:6990000,discount:14,image:'https://images.unsplash.com/photo-1606220945770-b5b6c2c55bf1?w=400&h=400&fit=crop',rating:4.5,reviews:152},
        {id:102,name:'Tai nghe Bluetooth Samsung Galaxy Buds2 Pro',brand:'samsung',category:'phukien',type:'tainghe',price:3490000,oldPrice:4990000,discount:30,image:'https://images.unsplash.com/photo-1590658165737-15a047b7a0c1?w=400&h=400&fit=crop',rating:4.5,reviews:89},
        {id:103,name:'Tai nghe Bluetooth AirPods 2 Apple',brand:'apple',category:'phukien',type:'tainghe',price:2690000,oldPrice:3190000,discount:16,image:'https://images.unsplash.com/photo-1606841837239-c5a1a4a07af7?w=400&h=400&fit=crop',rating:4,reviews:234},
        {id:104,name:'Tai nghe Bluetooth Samsung Galaxy Buds FE',brand:'samsung',category:'phukien',type:'tainghe',price:1490000,oldPrice:1990000,discount:25,image:'https://images.unsplash.com/photo-1649859394657-c2c90e82446f?w=400&h=400&fit=crop',rating:4,reviews:67},
        {id:105,name:'Tai nghe Bluetooth Xiaomi Redmi Buds 5 Pro',brand:'xiaomi',category:'phukien',type:'tainghe',price:1390000,oldPrice:1790000,discount:22,image:'https://images.unsplash.com/photo-1613040809024-b4ef7ba99bc3?w=400&h=400&fit=crop',rating:4,reviews:43},
        {id:201,name:'Cáp Type C 1m Apple MM0A3',brand:'apple',category:'phukien',type:'cap',price:490000,oldPrice:590000,discount:17,image:'https://images.unsplash.com/photo-1625948515291-69613efd103f?w=400&h=400&fit=crop',rating:4.5,reviews:128},
        {id:202,name:'Sạc nhanh Type C PD 20W Apple',brand:'apple',category:'phukien',type:'sac',price:490000,oldPrice:590000,discount:17,image:'https://images.unsplash.com/photo-1591290619762-c588ec6ade80?w=400&h=400&fit=crop',rating:4.5,reviews:156},
        {id:301,name:'Ốp lưng iPhone 15 Pro Max MagSafe Apple',brand:'apple',category:'phukien',type:'oplung',price:1190000,oldPrice:1490000,discount:20,image:'https://images.unsplash.com/photo-1601784551446-20c9e07cdbdb?w=400&h=400&fit=crop',rating:4.5,reviews:234},
        {id:302,name:'Ốp lưng iPhone 14 Pro Max MagSafe Apple',brand:'apple',category:'phukien',type:'oplung',price:990000,oldPrice:1290000,discount:23,image:'https://images.unsplash.com/photo-1618088089075-44c3b5e2e283?w=400&h=400&fit=crop',rating:4,reviews:187},
        {id:303,name:'Ốp lưng Samsung Galaxy S24 Ultra Clear',brand:'samsung',category:'phukien',type:'oplung',price:590000,oldPrice:790000,discount:25,image:'https://images.unsplash.com/photo-1585704768175-39ba0d82bda8?w=400&h=400&fit=crop',rating:4.5,reviews:145},
        {id:304,name:'Ốp lưng Samsung Galaxy A55 5G Silicone',brand:'samsung',category:'phukien',type:'oplung',price:290000,oldPrice:390000,discount:26,image:'https://images.unsplash.com/photo-1601784551279-3c50e2c96d72?w=400&h=400&fit=crop',rating:4,reviews:98}
      ];

      // Format price
      function formatPrice(price) {
        return price.toLocaleString('vi-VN') + 'đ';
      }

      // Render related products
      function renderRelatedProducts(currentProductId) {
        // Get current product to find similar ones
        const currentProduct = PRODUCTS.find(p => p.id === currentProductId);
        if (!currentProduct) return;

        // Find related products (same brand or same category, excluding current product)
        let relatedProducts = PRODUCTS.filter(p => 
          p.id !== currentProductId && 
          (p.brand === currentProduct.brand || p.category === currentProduct.category)
        );

        // Prioritize same brand, then shuffle
        relatedProducts.sort((a, b) => {
          if (a.brand === currentProduct.brand && b.brand !== currentProduct.brand) return -1;
          if (a.brand !== currentProduct.brand && b.brand === currentProduct.brand) return 1;
          return Math.random() - 0.5;
        });

        // Limit to 4 products
        relatedProducts = relatedProducts.slice(0, 4);

        // Render products
        const container = document.getElementById('relatedProducts');
        if (!container) return;

        container.innerHTML = relatedProducts.map(product => {
          const rating = product.rating || (4 + Math.random() * 1);
          const reviews = product.reviews || Math.floor(Math.random() * 200) + 50;
          const fullStars = Math.floor(rating);
          const halfStar = rating % 1 >= 0.5;

          let starsHTML = '';
          for(let i = 0; i < fullStars; i++) starsHTML += '<i class="fas fa-star"></i>';
          if(halfStar) starsHTML += '<i class="fas fa-star-half-alt"></i>';
          for(let i = fullStars + (halfStar ? 1 : 0); i < 5; i++) starsHTML += '<i class="far fa-star"></i>';

          return `
            <a href="product-detail.html?id=${product.id}" class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-2xl hover:border-red-300 transition-all duration-300 group">
              <div class="relative overflow-hidden bg-gradient-to-br from-gray-50 to-white">
                ${product.discount ? `
                  <div class="absolute top-3 left-0 z-10">
                    <div class="bg-gradient-to-r from-red-600 to-red-500 text-white text-xs font-bold px-3 py-1.5 rounded-r-full shadow-lg flex items-center gap-1">
                      <i class="fas fa-tag"></i>
                      <span>-${product.discount}%</span>
                    </div>
                  </div>
                ` : ''}
                <div class="p-4">
                  <img src="${product.image}" 
                       alt="${product.name}" 
                       class="w-full h-40 sm:h-52 object-contain group-hover:scale-110 transition-transform duration-500" />
                </div>
              </div>
              <div class="p-4 sm:p-5">
                <h3 class="font-bold mb-3 text-sm sm:text-base line-clamp-2 min-h-[42px] text-gray-800 group-hover:text-red-600 transition-colors">${product.name}</h3>
                
                <div class="flex items-center mb-3 gap-2">
                  <div class="text-yellow-400 text-xs sm:text-sm flex">
                    ${starsHTML}
                  </div>
                  <span class="text-gray-500 text-xs sm:text-sm">({${reviews}})</span>
                </div>
                
                <div class="space-y-1">
                  <div class="flex items-baseline gap-2">
                    <span class="text-xl sm:text-2xl font-bold text-red-600">${formatPrice(product.price)}</span>
                    ${product.oldPrice ? `<span class="text-xs sm:text-sm text-gray-400 line-through">${formatPrice(product.oldPrice)}</span>` : ''}
                  </div>
                  ${product.discount ? `
                    <div class="inline-block">
                      <span class="text-xs bg-red-50 text-red-600 px-2 py-0.5 rounded-md font-semibold">
                        Tiết kiệm ${formatPrice(product.oldPrice - product.price)}
                      </span>
                    </div>
                  ` : ''}
                </div>
                
                <div class="mt-4 pt-3 border-t border-gray-100">
                  <button class="w-full bg-gradient-to-r from-red-600 to-red-500 hover:from-red-700 hover:to-red-600 text-white font-semibold py-2.5 px-4 rounded-lg transition-all duration-300 transform group-hover:scale-105 shadow-md hover:shadow-lg flex items-center justify-center gap-2 text-sm">
                    <i class="fas fa-shopping-cart"></i>
                    Xem chi tiết
                  </button>
                </div>
              </div>
            </a>
          `;
        }).join('');
      }

      // Load related products and setup mobile menu on page load
      document.addEventListener('DOMContentLoaded', () => {
        // Get product ID from URL parameter and render related products
        const urlParams = new URLSearchParams(window.location.search);
        const productId = parseInt(urlParams.get('id')) || 5; // Default to iPhone 15 Pro Max
        renderRelatedProducts(productId);

        // Mobile menu functionality
        const mobileMenu = document.querySelector('.mobile-menu');
        const mobileMenuButton = document.querySelector('button.md\\:hidden');
        const mobileMenuClose = document.querySelector('.mobile-menu-close');

        if (mobileMenuButton && mobileMenu && mobileMenuClose) {
          mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.remove('hidden');
          });

          mobileMenuClose.addEventListener('click', () => {
            mobileMenu.classList.add('hidden');
          });
        }
      });
    </script>
  </body>
</html>

